// TODO: get the join tree generated by LMFAO rather than
// using the mock data
import {
  mockJoinTree
} from "./mockdata/mockJoinTree"

// get the join tree json
const joinTreeD3 = {
  "directed": true,
  "multigraph": false,
  "graph": {},
  nodes: mockJoinTree.relations.map(relation => {
    return {id: relation.name}
  }),
  links: mockJoinTree.edges.map(edge => {
    return {
      weight: edge.views.length, 
      source: edge.origin,
      target: edge.dest,
    }
  })
}

export {
  joinTreeD3
}



// "relations": [
// 	{"name" : "Inventory"},
// 	{"name" : "Stores"},
// 	{"name" : "Weather"},
// 	{"name" : "Items"}
// ],
// "edges": [
// 	{
// 	"origin" : "Stores", 
// 	"dest" : "Inventory",
// 	"views" : ["V1", "V2"] 
// 	},
// 	{
// 	"origin" : "Weather", 
// 	"dest" : "Inventory",
// 	"views" : ["V3", "V4", "V5"] 
// 	},