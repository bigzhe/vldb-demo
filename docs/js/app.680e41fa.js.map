{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Home.vue?b229","webpack:///./src/views/Home.vue?8857","webpack:///./src/components/Application.vue?6098","webpack:///./src/components/ViewGroups.vue?ee44","webpack:///./src/components/QueryText/VariableText.vue?0b08","webpack:///./src/components/ViewGeneration.vue?a600","webpack:///./src/components/QueryText/QueryText.vue?e464","webpack:///./src/App.vue?76be","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?a2c1","webpack:///./src/components/Dataset.vue?dcef","webpack:///./src/util/Atom.ts","webpack:///./src/util/asciitree.js","webpack:///./src/util/ArrayExtensions.ts","webpack:///./src/util/updateMath.js","webpack:///./src/util/ViewTreeNode.ts","webpack:///./src/util/Node.ts","webpack:///./src/util/IndicatorViewNode.ts","webpack:///./src/util/Query.ts","webpack:///./src/components/QueryText/QueryText.vue?29c3","webpack:///./src/components/QueryText/VariableText.vue?667e","webpack:///src/components/QueryText/VariableText.vue","webpack:///./src/components/QueryText/VariableText.vue?2a4b","webpack:///./src/components/QueryText/VariableText.vue?7101","webpack:///src/components/QueryText/QueryText.vue","webpack:///./src/components/QueryText/QueryText.vue?4a45","webpack:///./src/components/QueryText/QueryText.vue?eabd","webpack:///./src/components/Dataset.vue","webpack:///./src/components/Dataset.vue?5c2e","webpack:///./src/components/Dataset.vue?eb1a","webpack:///./src/components/ViewGeneration.vue?4580","webpack:///./src/data/mockdata/mockJoinTree.js","webpack:///./src/data/joinTree.js","webpack:///./src/util/d3/showJoinTree.js","webpack:///./src/components/ViewGeneration.vue","webpack:///./src/components/ViewGeneration.vue?3531","webpack:///./src/components/ViewGeneration.vue?4487","webpack:///./src/components/ViewGroups.vue?b47d","webpack:///./src/util/d3/showDependencyGraph.js","webpack:///./src/components/ViewGroups.vue","webpack:///./src/components/ViewGroups.vue?80f5","webpack:///./src/components/ViewGroups.vue?bcdb","webpack:///./src/components/CodeGeneration.vue?9cbb","webpack:///./src/components/CodeGeneration.vue","webpack:///./src/components/CodeGeneration.vue?7f41","webpack:///./src/components/CodeGeneration.vue?5860","webpack:///./src/components/Application.vue?6d67","webpack:///./src/components/Application.vue","webpack:///./src/components/Application.vue?d864","webpack:///./src/components/Application.vue?d3c2","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue?c853","webpack:///./src/views/About.vue?942d","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?f1da","webpack:///./src/views/About.vue","webpack:///./src/router/index.ts","webpack:///./src/data/dataset.ts","webpack:///./src/store/index.js","webpack:///./src/main.ts","webpack:///./src/components/CodeGeneration.vue?6fb7"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","script","component","staticClass","staticStyle","on","handleClick","tab","ref","_e","_v","model","callback","$$v","selected_dataset_name","expression","_l","category","dataset","filter","_s","selected_model","Q","handleNext","variables","Atom","join","draw_tree","tree","how_to_get_title","how_to_get_children","whitespace","output","get_title","node","toString","get_nodes","check_empty","onLine","undefined","repeat","string","times","find_padding","position","_margin","padding","margin","insert","draw_node","title","foundedPadding","nodePadding","offset","currentTitle","nodes","at","halfOfCurrentTitle","Math","floor","Array","unique","from","Set","intersection","that","a","includes","difference","union","isSuperset","every","subsets","reduce","concat","map","set","equals","permutation","permute","arr","curr","next","tex2svg","tex","svg","MathJax","display","startup","adaptor","innerHTML","variable","keys","relations","children","view_tex","view_definition_tex","compressed_views","query","update_position","update_tex","deltaR","path","update_delta_tex","width","height","to_tex","dumbSVG","longest_width","get_longest_width_of_tex","view_svg","local_draw","nested","addTo","bbox","max","forEach","get_width_of_tex","update_position_helper","sort","c1","c2","isIndicator","currentTitleLength","title_width","post_order_apply","view","to_view_definition_tex","indicator_id","get_indicator_id","used_relations","flatMap","used_views","updated_views","apply_update","root","to_delta_tex","to_delta_view_definition_tex","copy","new_node","ViewTreeNode","is_view","path_to_view","found","fixed_keys","filtered_keys","join_variables","red_keys","k","make_red","red_escaped_keys","replace","escaped_variable","key_tex","get_keys_tex","variable_tex","get_variable_tex","relation_tex","get_relations_tex","updated","marginalize_vars","v","free_variables","path_variables","unaffected_children","affected_children","child_nodes","key_set","anc","view_tree_children","show_key_set","pre_order_apply","descendent_variables_helper","atom","inserted_variables","uninserted_variables","lowest_node_of_variables","lowest_node","Error","relation_node","boundary_variable","boundary_variable_key_set","boundary_node","anc_vars","linked_list","variables_above_me","Node","reverse","variables_to_be_inserted","prefix_variables","get_linked_list","below_boundary","resulted_variable_orders","res","child_node","other_child_nodes","add_node","new_child_node","self","dep","tail_node","head_node","current_node","parent_variable","idx","target_variables","depth_helper","target_variable","path_to_variable","some","contains_variables","atoms","cover_sets","valid_cover_sets","cover_set","flat","console","assert","min","rho","static_width","delta_width_of_this_node","delta_width","atoms_of_variables","IndicatorViewNode","red_key_tex","black_key_tex","descendent_dep","get_variables","atom_by_name","escaped_name","view_tree_nodes","variable_order_to_view_tree","union_child_keys","keys1","keys2","union_child_relations","b","descendent_dep_vars","dynamic_relations","vo","get_best_variable_order","update_descendent_dep_helper","dep_vars","view_tree","to_svg_delta_tree","add_indicator_projections_for","ind_nodes","gyo_candidates","e","findIndex","gyo_candidates_subsets","incycle","GYO","indicators","indicator","child_indicators","child_indicator","is_subsumed","other_nodes","is_isolated","changing","old_len","get_view_tree","keep_only_useful_views_below","useful_children","useless_children","useful_l","useless_l","useful_r","useless_r","useful_views_below_useless_children","useless_views_below_useless_children","filter_children","useless_views","append_relations","add_indicator_projections","to_svg_tree","relations_below","child_relations","relations_this_level","relation_nodes","get_best_succinct_variable_order","r_name","inserted","update_descendent_dep","uninserted","append_relation","processed_vo","free_join_variables","free_top_variables","atom_free_join_vars","atom_free_vars","free_join_top_variable_orders","expand_variable_orders","succinct_variable_orders","vo_width_tuples","best_vo_width_tuple","vo1","w1","vo2","w2","dynamic_depth_1","dynamic_depth_2","dynamic_relation","depth","best_succinct_variable_order","non_join_free_variables","append_variables","non_join_bound_variables","update_key_sets","inputArr","variable_orders","frontier","variable_order","starting_node","remaining_variables","constructed_variable_orders","state","pop","expand","initial_variables","free_remaining_variables","bound_remaining_variables","dumb_init_state","free_remaining_variable_permutation","permutator","free_vars","get_free_linked_list","node_dependent_variables","descendent_variables","free_top_variable_orders","get_free_top_variable_orders","delta_widths","static_widths","target_delta_width","target_static_width","result_variable_orders","next_node","found_incorrect","new_query_text","split","query_part","atom_part","query_name","atom_text","atom_name","class","props","mounted","components","VariableText","free_variable_relation","selected_variables","selected","selected_dataset","find","relation","indeterminate","checkAll","query_text","get_query_text","$store","commit","dispatch","onSuccess","immediate","deep","QueryText","joinTreeD3","id","outputQueries","handleContextMenu","slot","nativeOn","$event","changeRoot","selectedEdge","source","target","intermediateViews","regenerateViews","groupViews","mockJoinTree","require","links","edges","edge","origin","dest","weight","views","groupNodes","groups","group","groupEdges","groupEdge","groupby","aggregates","agg","queries","contextmenu","LINK_WIDTH","NODE_RADIUS","showJoinTree","originGraph","clickLinkCallBack","clickNodeCallBack","graph","JSON","parse","stringify","document","getElementById","getBoundingClientRect","innerHeight","documentElement","clientHeight","body","d3","select","remove","append","attr","zoomed","transform","extent","scaleExtent","selectAll","enter","String","simulation","force","strength","prepareLinks","link","style","dragstarted","dragged","dragended","radius","text","ticked","lineX2","sqrt","pow","y","x","scale","lineY2","rightwardSign","translation","calcTranslationExact","dx","dy","targetDistance","point0","point1","x2_x0","y2_y0","x1_x0","y1_y0","angle","atan","cos","sin","linksFromNodes","val","sid","tid","targetID","multiIdx","active","alphaTarget","restart","fx","fy","dumbEdge","selectedRelation","contextData","renderD3","rootIndicators","log","relationId","changedQuery","transitionClicked","relationClicked","groupBy","selectedGroup","generateCode","showDependencyGraph","interval","processingStatus","previousCount","Dataset","ViewGeneration","ViewGroups","CodeGeneration","Application","methods","newTab","computed","use","routes","Home","About","router","base","dataPrepared","variableInfo","isCategorical","dataType","locn","dateid","ksn","inventoryunits","zip","rgn_cd","clim_zn_nbr","tot_area_sq_ft","sell_area_sq_ft","avghhi","supertargetdistance","supertargetdrivetime","targetdistance","targetdrivetime","walmartdistance","walmartdrivetime","walmartsupercenterdistance","walmartsupercenterdrivetime","population","white","asian","pacific","blackafrican","medianage","occupiedhouseunits","houseunits","families","households","husbwife","males","females","householdschildren","hispanic","subcategory","categoryCluster","price","rain","snow","thunder","maxtemp","mintemp","meanwind","Vue","Vuex","Store","tN","processing","query_info","step","threshold","label","features","matrix","paramMatrix","mutations","SET_PROCESSING","SET_THRESHOLD","SET_LABEL","SET_FEATURES","SET_SELECTED_DATASET","selected_dataset_idx","SET_QUERY_INFO","SET_QUERY_TEXT","SET_QUERY","SET_COMPUTATIONAL_MODEL","SET_STEP","SET_TAB","SET_MODEL_SELECTION","actions","axios","method","url","then","response","catch","err","init","config","productionTip","store","render","h","App","$mount"],"mappings":"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","file":"js/app.680e41fa.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=a37dffdc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=a37dffdc&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Application.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Application.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGroups.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGroups.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VariableText.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VariableText.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGeneration.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGeneration.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryText.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryText.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=01d6f68d&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\",staticStyle:{\"margin-top\":\"00px\"}},[_c('Tabs',{staticStyle:{\"margin-bottom\":\"0\"},on:{\"on-click\":_vm.handleClick}},[_c('TabPane',{attrs:{\"label\":\"Input\",\"name\":\"dataset\"}}),_c('TabPane',{attrs:{\"label\":\"View Generation\",\"name\":\"viewGeneration\"}}),_c('TabPane',{attrs:{\"label\":\"View Groups\",\"name\":\"viewGroups\"}}),_c('TabPane',{attrs:{\"label\":\"Code Generation\",\"name\":\"codeGeneration\"}}),_c('TabPane',{attrs:{\"label\":\"Application\",\"name\":\"application\"}})],1),_c('br'),(_vm.tab == 'viewGeneration')?_c('ViewGeneration',{ref:\"viewGeneration\"}):(_vm.tab == 'dataset')?_c('Dataset',{ref:\"dataset\"}):(_vm.tab == 'viewGroups')?_c('ViewGroups',{ref:\"viewGroups\"}):(_vm.tab == 'codeGeneration')?_c('CodeGeneration',{ref:\"codeGeneration\"}):(_vm.tab == 'application')?_c('Application',{ref:\"application\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',[_c('Col',{attrs:{\"span\":\"2\"}},[_vm._v(\"Dataset:\")]),_c('Col',{attrs:{\"span\":\"20\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"Please select a dataset\"},model:{value:(_vm.selected_dataset_name),callback:function ($$v) {_vm.selected_dataset_name=$$v},expression:\"selected_dataset_name\"}},_vm._l((_vm.dataset_categories),function(category,i){return _c('OptionGroup',{key:i,attrs:{\"label\":category}},_vm._l((_vm.dataset.filter(function (d) { return d.category == category; })),function(d,i){return _c('Option',{key:i,attrs:{\"value\":d.name}},[_vm._v(_vm._s(d.name))])}),1)}),1)],1)],1),_c('Row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('Col',{attrs:{\"span\":\"2\"}},[_vm._v(\"Model:\")]),_c('Col',{attrs:{\"span\":\"20\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"Please select the model\"},model:{value:(_vm.selected_model),callback:function ($$v) {_vm.selected_model=$$v},expression:\"selected_model\"}},[_c('Option',{key:\"linearRegression\",attrs:{\"value\":'linearRegression'}},[_vm._v(\"Linear Regression\")]),_c('Option',{key:\"regressionTree\",attrs:{\"value\":'regressionTree'}},[_vm._v(\"Regression Tree\")]),_c('Option',{key:\"kmeans\",attrs:{\"value\":'kmeans'}},[_vm._v(\"kMeans\")])],1)],1)],1),(_vm.Q)?_c('div',[_c('br'),_c('QueryText',{attrs:{\"Q\":_vm.Q}})],1):_vm._e(),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleNext}},[_vm._v(\"Next\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","class Atom {\n    public readonly name:string\n    public variables:string[]\n\n    constructor(name:string, variables:string[]) {\n        this.name = name\n        this.variables = variables\n    }\n\n    public copy(): Atom {\n        return new Atom(this.name, [...this.variables])\n    }\n\n    public toString() {\n        return `${this.name}(${this.variables.join(',')})`\n    }\n\n}\n\nexport default Atom","/**\n * (c) 2014 Anton Medvedev\n *\n *       SELECT_________________\n *      /            \\          \\\n *     .___         FROM       JOIN\n *    /    \\          |       /    \\\n *   a  city_name  people  address ON\n *                                  |\n *                                  =___________\n *                                 /            \\\n *                                .____          .\n *                               /     \\        / \\\n *                               p  address_id  a  id\n *\n */\n\nfunction draw_tree(tree, how_to_get_title, how_to_get_children) {\n  var whitespace = ' ',\n    output = [];\n\n  var get_title = how_to_get_title || function (node) {\n    return (typeof node === 'object') ? node[0].toString() : node.toString();\n  };\n\n  var get_nodes = how_to_get_children || function (node) {\n    return (typeof node === 'object') ? node.slice(1) : null;\n  };\n\n  var check_empty = function (onLine) {\n    if (output[onLine] == undefined) {\n      output[onLine] = '';\n    }\n  };\n\n  var repeat = function (string, times) {\n    var output = '';\n    for (var i = 0; i < times; i++) {\n      output += string;\n    }\n    return output;\n  };\n\n  var find_padding = function (string, onLine, position, _margin) {\n    check_empty(onLine);\n\n    var padding = 0,\n      margin = _margin != undefined ? _margin : 2,\n      length = output[onLine].length;\n\n    if (position < 0) {\n      padding = -position;\n      position = 0;\n    }\n\n    if (length >= position) {\n      padding += length - position + margin;\n    }\n\n    return padding;\n  };\n\n  var insert = function (string, onLine, position) {\n    check_empty(onLine);\n\n    var length = output[onLine].length;\n\n    if (position < 0) {\n      throw \"Trying to insert \\\"\" + string + \"\\\" at negative position(\" + position + \").\";\n    }\n\n    if (position < length) {\n      throw \"Trying to insert \\\"\" + string + \"\\\" at position(\" + position + \") less then length(\" + length + \").\";\n    }\n\n    output[onLine] += repeat(whitespace, position - length) + string;\n  };\n\n  var draw_node = function (tree, onLine, position) {\n    var padding = 0,\n      foundedPadding = 0,\n      nodePadding = 0,\n      node, title,\n      offset = 0,\n      currentTitle = get_title(tree).toString(),\n      nodes = get_nodes(tree);\n\n    if (nodes) {\n      var at = position;\n      if (nodes.length == 1) {\n        node = nodes[0];\n        title = get_title(node).toString();\n\n        var halfOfCurrentTitle = Math.floor(currentTitle.length / 2);\n        offset = Math.floor(title.length / 2) - halfOfCurrentTitle;\n\n        foundedPadding = find_padding(title, onLine + 2, position - offset);\n\n        nodePadding = draw_node(node, onLine + 2, position - offset + foundedPadding);\n        insert('|', onLine + 1, position + halfOfCurrentTitle + foundedPadding + nodePadding);\n\n        padding = foundedPadding + nodePadding;\n      } else {\n        for (var i = 0; i < nodes.length; i++) {\n          node = nodes[i];\n          title = get_title(node).toString();\n\n          if (i == 0) {\n            offset = title.length == 1 ? 2 : Math.floor(title.length / 2) + 1;\n\n            foundedPadding = find_padding(title, onLine + 2, position - offset);\n            nodePadding = draw_node(node, onLine + 2, position - offset + foundedPadding);\n            insert('/', onLine + 1, position - 1 + foundedPadding + nodePadding);\n            insert(repeat(whitespace, currentTitle.length), onLine + 1, position + foundedPadding + nodePadding);\n            padding = foundedPadding + nodePadding;\n            at += padding + currentTitle.length;\n          } else {\n            offset = title.length == 1 ? -1 : Math.floor(title.length / 2) - 1;\n\n            foundedPadding = find_padding(title, onLine + 2, at - offset);\n            nodePadding = draw_node(node, onLine + 2, at - offset + foundedPadding);\n            at += foundedPadding + nodePadding;\n            insert('\\\\', onLine + 1, at);\n            currentTitle += repeat('_', foundedPadding + nodePadding);\n          }\n\n        }\n      }\n    }\n    insert(currentTitle, onLine, position + padding);\n    return padding;\n  };\n\n  draw_node(tree, 0, 0);\n\n  return output.join(\"\\n\");\n}\n\nexport default draw_tree","declare global {\n  interface Array<T> {\n    // remove(val: T): any;\n    unique(): any;\n    intersection(that: T[]): T[];\n    difference(that: T[]): T[];\n    union(that: T[]): T[];\n    isSuperset(that: T[]): boolean;\n    subsets(): T[][];\n    equals(that: T[]): boolean;\n    permutation(): T[][];\n  }\n}\n// Array.prototype.remove = function (val: any): any {\n//   const index = this.indexOf(val);\n//   if (index > -1) {\n//     this.splice(index, 1);\n//   }\n// }\n\nArray.prototype.unique = function (): any {\n  return Array.from(new Set(this))\n}\n\nArray.prototype.intersection = function (that: any[]): any[] {\n  return this.filter(a => (that.includes(a))).unique()\n}\n\nArray.prototype.difference = function (that: any[]): any[] {\n  return this.filter(a => !(that.includes(a))).unique()\n}\n\nArray.prototype.union = function (that: any[]): any[] {\n  return [...this, ...that].unique()\n}\n\nArray.prototype.isSuperset = function (that: any[]): boolean {\n  return that.every(a => (this.includes(a)))\n}\n\nArray.prototype.subsets = function (): any[][] {\n  return this.reduce(\n    (subsets, value) => subsets.concat(\n      subsets.map((set: any[]) => [value, ...set])\n    ),\n    [[]]\n  );\n}\n\nArray.prototype.equals = function (that: any[]): boolean {\n  return this.length == that.length && this.difference(that).length == 0\n}\n\nArray.prototype.permutation = function (): any[][] {\n  let result: any[] = [];\n  const permute = (arr: any[], m: any[] = []) => {\n    if (arr.length === 0) {\n      result.push(m)\n    } else {\n      for (let i = 0; i < arr.length; i++) {\n        let curr = arr.slice();\n        let next = curr.splice(i, 1);\n        permute(curr.slice(), m.concat(next))\n      }\n    }\n  }\n  permute(this)\n  return result\n}\n\n\nexport { }\n","// const svgPanZoom = require('svg-pan-zoom')\n\n\nexport function enable_svg_zoom() {\n  svgPanZoom('#root-svg', {\n    zoomEnabled: true,\n    controlIconsEnabled: true,\n    fit: false,\n    center: true,\n    // viewportSelector: document.getElementById('demo-tiger').querySelector('#g4') // this option will make library to misbehave. Viewport should have no transform attribute\n  });\n}\n\n\nexport function updateMathContent() {\n  MathJax.typeset()\n}\n\nexport function tex2svg(tex) {\n  const svg = MathJax.tex2svg(tex, {display: true});\n  return MathJax.startup.adaptor.innerHTML(svg)\n}\n","import draw_tree from \"./asciitree\";\nimport Query from \"../util/Query\";\nimport Atom from \"../util/Atom\"\nimport {SVG} from \"@svgdotjs/svg.js\";\nimport {tex2svg} from \"../util/updateMath\";\nimport IndicatorViewNode from './IndicatorViewNode';\n\nexport default class ViewTreeNode {\n  public readonly name:string\n  public readonly variable:string\n  public keys:string[]\n  public children:ViewTreeNode[]\n  public relations: string[]\n\n  public position: [number, number] = [0, 0]\n  public view_tex: string = \"\"\n  public view_definition_tex: string = \"\"\n\n  // we might have removed some views that are unnecessary\n  // we record them here\n  public compressed_views: ViewTreeNode[] = []\n\n  constructor(name:string, variable: string, keys: string[], relations: string[], children: ViewTreeNode[]) {\n    this.name = name\n    this.variable = variable\n    this.keys = keys\n    this.relations = relations\n    this.children = children\n  }\n\n  public isIndicator(): boolean {\n    return false\n  }\n\n  public get_indicator_id(): string {\n    return \"\"\n  }\n\n  public to_svg_tree(query: Query) {\n    this.update_position(query)\n    this.update_tex(query)\n  }\n\n  public to_svg_delta_tree(query: Query, deltaR: ViewTreeNode, path: ViewTreeNode[]) {\n    // this.update_position()\n    this.update_delta_tex(query, deltaR, path)\n  }\n\n  update_position(query: Query, width: number = 10, height: number = 45) {\n    const whitespace = ' '\n    const output: {[line: number]: string} = {};\n    const check_empty = function (onLine: number) {\n      if (output[onLine] == undefined) {\n        output[onLine] = '';\n      }\n    };\n\n    var repeat = function (string: string, times: number) {\n      var output = '';\n      for (var i = 0; i < times; i++) {\n        output += string;\n      }\n      return output;\n    };\n\n    const get_title = function (node: ViewTreeNode): string {\n      return node.to_tex(query)\n    };\n\n\n    const dumbSVG = SVG()\n    let longest_width = 0\n    const get_longest_width_of_tex = (node: ViewTreeNode) => {\n\n      const view_tex = node.view_tex\n      \n      // TODO: 改成取最长的\n      const view_svg = SVG(tex2svg(view_tex))\n\n      // get the width and height\n      const local_draw = dumbSVG.nested()\n      view_svg.addTo(local_draw)\n      const width = local_draw.bbox().width / 10\n      longest_width = Math.max(width, longest_width)\n\n      node.children.forEach(n => {\n        get_longest_width_of_tex(n)\n      })\n    }\n    get_longest_width_of_tex(this)\n\n    const get_width_of_tex = (title: string): number => longest_width // return the longest width\n\n    const find_padding = function (onLine:number, position:number, _margin?: number | undefined) {\n      check_empty(onLine);\n\n      let padding = 0,\n        margin = _margin != undefined ? _margin : 2.5,\n        length = output[onLine].length;\n\n      if (position < 0) {\n        padding = -position;\n        position = 0;\n      }\n\n      if (length >= position) {\n        padding += length - position + margin;\n      }\n\n      return padding;\n    };\n\n    var insert = function (string: string, onLine: number, position: number) {\n      check_empty(onLine);\n\n      var length = output[onLine].length;\n\n      // if (position < 0) {\n      //   throw \"Trying to insert \\\"\" + string + \"\\\" at negative position(\" + position + \").\";\n      // }\n      //\n      // if (position < length) {\n      //   throw \"Trying to insert \\\"\" + string + \"\\\" at position(\" + position + \") less then length(\" + length + \").\";\n      // }\n\n      output[onLine] += repeat(whitespace, position - length) + string;\n    };\n\n    const update_position_helper = (tree: ViewTreeNode, onLine: number, position: number): number => {\n\n      // sort the child views here\n      tree.children = tree.children.sort((c1, c2) => {\n\n        if (c1.isIndicator() && !c2.isIndicator()) {\n          return -1\n        } else if (!c1.isIndicator() && c2.isIndicator()) {\n          return 1\n        } else if (c1.name == \"V\" && c2.name == \"V\") {\n          return c1.variable < c2.variable ? -1 : 1\n        } else if (c1.name != \"V\" && c2.name == \"V\") {\n          return 1\n        } else if (c1.name == \"V\" && c2.name != \"V\") {\n          return -1\n        } else {\n          return c1.name < c2.name ? -1 : 1\n        }\n      })\n\n      var padding = 0,\n        foundedPadding = 0,\n        nodePadding = 0,\n        node, title,\n        offset = 0,\n        currentTitle = get_title(tree),\n        currentTitleLength = get_width_of_tex(currentTitle),\n        nodes = tree.children;\n\n      currentTitle = repeat(whitespace, currentTitleLength)\n\n      if (nodes.length > 0) {\n        let at = position\n        if (nodes.length == 1) {\n          node = nodes[0]\n          title = get_title(node)\n\n          let halfOfCurrentTitle = Math.floor(currentTitleLength / 2);\n          offset = Math.floor(get_width_of_tex(title) / 2) - halfOfCurrentTitle;\n\n          foundedPadding = find_padding(onLine + 2, position - offset);\n\n          nodePadding = update_position_helper(node, onLine + 2, position - offset + foundedPadding);\n          insert('|', onLine + 1, position + halfOfCurrentTitle + foundedPadding + nodePadding);\n\n          padding = foundedPadding + nodePadding;\n        } else {\n          for (var i = 0; i < nodes.length; i++) {\n            node = nodes[i];\n            title = get_title(node)\n            let title_width = get_width_of_tex(title)\n\n            if (i == 0) {\n              offset = title_width == 1 ? 2 : Math.floor(title_width / 2) + 1;\n\n              foundedPadding = find_padding(onLine + 2, position - offset);\n              nodePadding = update_position_helper(node, onLine + 2, position - offset + foundedPadding);\n              insert('/', onLine + 1, position - 1 + foundedPadding + nodePadding);\n              insert(repeat(whitespace, currentTitleLength), onLine + 1, position + foundedPadding + nodePadding);\n              padding = foundedPadding + nodePadding;\n              at += padding + currentTitleLength;\n            } else {\n              offset = title_width == 1 ? -1 : Math.floor(title_width / 2) - 1;\n\n              foundedPadding = find_padding(onLine + 2, at - offset);\n              nodePadding = update_position_helper(node, onLine + 2, at - offset + foundedPadding);\n\n              at += (foundedPadding + nodePadding);\n\n\n              insert('\\\\', onLine + 1, at);\n              currentTitle += repeat('_', foundedPadding + nodePadding);\n            }\n\n          }\n        }\n\n      }\n\n      insert(currentTitle, onLine, position + padding);\n      tree.position = [(position + padding)*width, onLine * height]\n      return padding\n    }\n\n\n    update_position_helper(this, 0, 0)\n  }\n\n  post_order_apply(apply: (view: ViewTreeNode) => void) {\n    this.children.forEach(n => {\n      n.post_order_apply(apply)\n    })\n    apply(this)\n  }\n\n  update_tex(query: Query) {\n    this.post_order_apply((view: ViewTreeNode) => {\n      view.view_tex = view.to_tex(query)\n      if (view.name != \"V\") {\n        view.view_definition_tex = view.view_tex\n        return\n      }\n      view.view_definition_tex = view.to_view_definition_tex(query)\n    })\n  }\n\n  // upd\n\n  update_delta_tex(query: Query, deltaR: ViewTreeNode, path: ViewTreeNode[]) {\n    const isIndicator = path[path.length-1].isIndicator()\n    const indicator_id = path[path.length-1].get_indicator_id()\n    \n    const used_relations = path.flatMap(n => [n.name, ...n.children.map(c => c.name)]).filter(s => s != \"V\").unique()\n    const used_views = path.flatMap(n => [n.variable, ...n.children.map(c => c.variable)])\n    const updated_views = path.map(n => n.variable)\n\n    \n    const apply_update = ((root: ViewTreeNode) => {\n\n      if (root.name == \"V\") {\n        // view\n        if (updated_views.includes(root.variable)) {\n          root.view_tex = root.to_delta_tex(query, deltaR, true)\n          // updated_this_level = true\n\n          root.children.forEach(c => apply_update(c))\n\n        } else if (used_views.includes(root.variable)) {\n          root.view_tex = root.to_delta_tex(query, deltaR)\n        } else\n          root.view_tex = root.to_tex(query)\n\n      } else if (!root.isIndicator()) {\n        // relation\n        if (!isIndicator && root.name == deltaR.name) {\n          root.view_tex = root.to_delta_tex(query, deltaR, true)\n        } else if (used_relations.includes(root.name)) {\n          root.view_tex = root.to_delta_tex(query, deltaR)\n        } else\n          root.view_tex = root.to_tex(query)\n\n      } else {\n        // indicator\n        if (root.get_indicator_id() == indicator_id) {\n          root.view_tex = root.to_delta_tex(query, deltaR, true)\n        } else {\n          root.view_tex = root.to_delta_tex(query, deltaR)\n        }\n      }\n\n      root.view_definition_tex = root.to_delta_view_definition_tex(query, deltaR, path)\n      \n    })\n\n    // base case\n    // assumption: the root is a view and it is in the path\n    apply_update(this)\n\n  }\n\n  // return a new copy of the view tree\n  public copy(): ViewTreeNode {\n    const children = this.children.map(n => n.copy())\n    const new_node = new ViewTreeNode(this.name, this.variable, [...this.keys], [...this.relations], children)\n    new_node.compressed_views = this.compressed_views\n    new_node.position = this.position\n    new_node.view_tex = this.view_tex\n    new_node.view_definition_tex = this.view_definition_tex\n    return new_node\n  }\n\n  path_to_view(is_view: (node: ViewTreeNode) => boolean): [boolean, ViewTreeNode[]] {\n    \n    if (is_view(this)) {\n      return [true, [this]]\n    }\n\n    if (this.children.length == 0) return [false, []]\n\n    for (let i = 0; i < this.children.length; i++) {\n      const [found, path] = this.children[i].path_to_view(is_view)\n      if (found) {\n        return [true, [this, ...path]]\n      }\n    }\n    return [false, []]\n  }\n\n  public draw_tree():string {\n    return draw_tree(this,\n      (node: ViewTreeNode) => `${node.name}_{${node.relations.join(\";\")}}^{${node.variable ? `@${node.variable}` : \"\"}}(${node.keys})`,\n      (node:ViewTreeNode) => node.children)\n  }\n\n  /**\n   * \n   * @param keys \n   * @param fixed_keys updated keys -- we need to make them red\n   * @param compress \n   */\n  get_keys_tex(query: Query, keys: string[], fixed_keys: string[] = [], compress: boolean = true) {\n    let filtered_keys = keys.join('').length > 10 ? query.join_variables.intersection(keys) : keys // 只要 join variables，其他的用 ...\n\n    const red_keys = filtered_keys.map(k => fixed_keys.includes(k) ? this.make_red(k) : k)\n    const red_escaped_keys = red_keys.map(k => k.replace('_', '\\\\_'))\n    \n\n    // 只显示 join variables\n    // 这里我要把 escaped keys 排序\n    let result =  red_escaped_keys.join(\",\")\n    if (filtered_keys.length < keys.length) {\n      result += \",\\\\dots\"\n    }\n    return result\n    \n    // if (escaped_keys.join('').length > 15 && compress) {\n    //   // add dots if it's long\n    //   return `${red_escaped_keys.slice(0,3)} ${red_escaped_keys.length > 3 ? `,\\\\ldots` : \"\"}`\n    // } else {\n    //   return red_escaped_keys.join(\",\")\n    // }\n  }\n\n  get_relations_tex(relations: string[]) {\n    return relations.map(r => r.length > 3 ? r.slice(0,3) : r).map(r => r.replace('_', '\\\\_')).sort()\n  }\n\n  get_variable_tex(variable: string) {\n    const escaped_variable = variable.replace('_', '\\\\_')\n    return escaped_variable.length > 5 ? variable.slice(0,3) : escaped_variable\n  }\n\n  make_red(tex: string): string {\n    return `{\\\\color{red} ${tex}}`\n  }\n\n  to_tex(query: Query): string {\n    const key_tex = this.get_keys_tex(query, this.keys, [], this.name == \"V\")\n    let variable_tex = this.get_variable_tex(this.variable)\n    let relation_tex = this.get_relations_tex(this.relations)\n    if (this.name != \"V\") {\n      relation_tex = []\n    }\n\n    return `${this.name}_{${relation_tex}}^{${this.variable ? `@${variable_tex}` : \"\"}}(${key_tex})`\n  }\n\n  to_delta_tex(query: Query, deltaR: ViewTreeNode, updated: boolean = false): string {\n    \n    const key_tex = this.get_keys_tex(query, this.keys, deltaR.keys)\n    let variable_tex = this.get_variable_tex(this.variable)\n    let relation_tex = this.get_relations_tex(this.relations)\n\n    if (this.name != \"V\") {\n      relation_tex = []\n    }\n\n    if (updated) {\n      return this.make_red(`\\\\delta ${this.name}_{${relation_tex}}^{${this.variable ? `@${variable_tex}` : \"\"}}`) + `(${key_tex})`\n    } else {\n      return `${this.name}_{${relation_tex}}^{${this.variable ? `@${variable_tex}` : \"\"}}(${key_tex})`\n    }\n  }\n\n  to_view_definition_tex(query: Query): string {\n    let view_definition_tex = this.view_tex + \" = \"\n    \n    const marginalize_vars = [this.variable, ...this.compressed_views.map(view => view.variable)].filter(v => v && !query.free_variables.includes(v))\n    view_definition_tex += marginalize_vars.map(v => `\\\\sum_{${this.get_variable_tex(v)}}`).join(\"\")\n\n    view_definition_tex += this.children.map(n => n.view_tex).join(\" \\\\Join \")\n    return view_definition_tex\n  }\n\n  to_delta_view_definition_tex(query: Query, deltaR: ViewTreeNode, path: ViewTreeNode[]): string {\n\n    const path_variables = path.map(n => n.variable)\n    const unaffected_children = this.children.filter(c => {\n      // if (c.isIndicator()) return true\n      if (c.name != \"V\") {\n        // c is a relation\n        return c.name != deltaR.name\n      } else {\n        // view\n        return !path_variables.includes(c.variable)\n      }\n    })\n    \n    const affected_children = this.children.filter(c => {\n      // if (c.isIndicator()) return false\n      if (c.name != \"V\") {\n        // c is a relation\n        return c.name == deltaR.name\n      } else {\n        // view\n        return path_variables.includes(c.variable)\n      }\n    })\n\n    if (affected_children.length == 0) {\n      // 吃瓜群众（没有被影响的）\n      if (deltaR.name != this.name) {\n        return this.view_tex\n      } else \n        return this.to_delta_tex(query, deltaR, deltaR.name == this.name)\n    }\n\n    // console.log(this.variable || this.name, this.compressed_views.map(view => view.variable));\n    \n\n    // console.assert(affected_children.length == 1)\n    // indicator projection and original relation\n\n    let view_definition_tex = this.to_delta_tex(query, deltaR, true) + \" = \"\n    const marginalize_vars = [this.variable, ...this.compressed_views.map(view => view.variable)].filter(v => v && !query.free_variables.includes(v))\n    view_definition_tex += marginalize_vars.map(v => `\\\\sum_{${this.get_variable_tex(v)}}`).join(\"\")\n\n    view_definition_tex += [affected_children[0].view_tex, ...unaffected_children.map(n => n.to_delta_tex(query, deltaR))].join(\" \\\\Join \") \n\n    return view_definition_tex\n    \n  }\n}\n\n","import Query from \"./Query\"\nimport Atom from \"./Atom\"\nimport draw_tree from \"./asciitree\";\nimport \"./ArrayExtensions\"\nimport ViewTreeNode from \"./ViewTreeNode\";\n\n\nclass Node {\n\n  public readonly variable:string\n  public child_nodes:Node[]\n  public key_set:string[]\n  public anc: string[]\n  public view_tree_children: ViewTreeNode[]\n\n\n  constructor(variable:string, child_nodes:Node[] = [], key_set:string[] = [], anc:string[] = [], view_tree_children: ViewTreeNode[] = []) {\n    this.variable = variable\n    this.child_nodes = child_nodes\n    this.key_set = key_set\n    this.anc = anc\n    this.view_tree_children = view_tree_children\n  }\n\n  draw_tree(show_key_set :boolean = false):string {\n    if (show_key_set)\n      return draw_tree(this, (node: Node) => `${node.variable} {${[...node.key_set]}} {${[...node.anc]}}`, (node:Node) => node.child_nodes)\n    else\n      return draw_tree(this, (node: Node) => `${node.variable}`, (node:Node) => node.child_nodes)\n  }\n\n  pre_order_apply(apply: (view: Node) => void) {\n    apply(this)\n    this.child_nodes.forEach(n => {\n      n.pre_order_apply(apply)\n    })\n  }\n\n  post_order_apply(apply: (view: Node) => void) {\n    this.child_nodes.forEach(n => {\n      n.post_order_apply(apply)\n    })\n    apply(this)\n  }\n\n  descendent_variables(): string[] {\n    const descendent_variables_helper = (node: Node): string[] => [node.variable, ...node.child_nodes.flatMap(n => descendent_variables_helper(n))]\n\n    return descendent_variables_helper(this).difference([this.variable])\n  }\n\n  append_relation(atom: Atom, inserted_variables: string[], uninserted_variables: string[], query: Query) {\n\n    // we care only the variables in the atom\n    uninserted_variables = atom.variables.intersection(uninserted_variables)\n    inserted_variables = inserted_variables.intersection(atom.variables)\n\n    const [found, lowest_node] = this.lowest_node_of_variables(inserted_variables)\n    if (!found)\n      throw new Error(\"Don't find the atom_lowest node\")\n\n    // append the relation to this lowest_node\n    const relation_node: ViewTreeNode = new ViewTreeNode(atom.name, \"\", atom.variables, [atom.name], [])\n\n    if (uninserted_variables.length == 0) {\n      //  append only the relation\n      lowest_node.view_tree_children.push(relation_node)\n      return\n    }\n\n    // append also the view that aggregates away everything\n    const boundary_variable = uninserted_variables[0]\n    const boundary_variable_key_set = inserted_variables.union(query.free_variables.intersection(atom.variables))\n\n    const boundary_node = new ViewTreeNode(\"V\",\n      boundary_variable,\n      boundary_variable_key_set,\n      [relation_node.name],\n      [relation_node])\n      \n    // TODO: add compressed nodes\n    boundary_node.compressed_views = relation_node.keys.difference(boundary_variable_key_set).difference([boundary_variable]).map(v => new ViewTreeNode(\"V\", v, [],[], []))\n\n    lowest_node.view_tree_children.push(boundary_node)\n\n  }\n\n  get_linked_list(variables:string[], anc_vars: string[] = []): Node[] {\n    \n    const linked_list = variables.map((v, i, variables) => {\n      // if (i )\n      const variables_above_me = variables.slice(i+1)\n      return new Node(v,\n        [],\n        [...anc_vars, ...variables_above_me],\n        [...anc_vars, ...variables_above_me],\n      )\n    })\n    // link them together\n    for (let i = 0; i < linked_list.length-1; i++) {\n      linked_list[i+1].child_nodes.push(linked_list[i])\n    }\n    \n\n    // lowest_node.child_nodes.push(head_node)\n    return linked_list.reverse()\n  }\n\n  /*\n    1. find the lowest node that covers prefix_variables in its ancestors\n    2. add the variables below this lowest_node as a linked list\n    3. if variable_permutation is enabled, we need to append linked lists with different orders to the lowest_node\n    4. otherwise we append it with any order\n  */\n  append_variables(variables_to_be_inserted: string[], prefix_variables: string[]) {\n    \n    if (variables_to_be_inserted.length == 0) {\n      return\n    }\n\n    const [found, lowest_node] = this.lowest_node_of_variables(prefix_variables)\n    if (!found)\n      throw new Error(\"did not find the lowest node\")\n    \n    const linked_list = this.get_linked_list(variables_to_be_inserted, [lowest_node.variable, ...lowest_node.anc])\n\n    lowest_node.child_nodes.push(linked_list[0])\n  }\n\n\n  /*\n   * return a list of variable orders\n   * create a new copy of the node as long as itself or its decedents are modified\n   */\n  add_node(variable:string, boundary_variable: string, below_boundary: boolean, query:Query): Node[] {\n\n    // 如果没有 boundary_variable, 就都可以搞\n    if (!boundary_variable) {\n      below_boundary = true\n    }\n    \n    // if the current node is empty, add to the current node\n    if (!this.variable) {\n      // root node\n      return [new Node(variable, this.child_nodes, this.key_set, this.anc)]\n    }\n\n    if (this.variable == boundary_variable) {\n      below_boundary = true\n    }\n\n    let resulted_variable_orders:Node[] = []\n\n    // add to child nodes\n    const res = this.child_nodes.flatMap((child_node, i) => {\n      const other_child_nodes = this.child_nodes.filter(n => n.variable != child_node.variable)\n\n      return child_node.add_node(variable, boundary_variable, below_boundary, query).map(new_child_node => {\n        const self = new Node(\n          this.variable,\n          [...other_child_nodes, new_child_node],\n          this.key_set,\n          this.anc,\n        ) // a copy of the current node with out the changed new_child_node\n        // self.child_nodes.push(new_child_node)\n        return self\n      })\n    })\n    resulted_variable_orders = resulted_variable_orders.concat(res)\n\n\n    // if it is not below or at the boundary, we would not go down\n    if (below_boundary) {\n      // add as the child node of the current node\n      resulted_variable_orders.push(\n        new Node(this.variable,\n          [...this.child_nodes, new Node(variable, [], [...this.anc, this.variable].intersection(query.dep[variable]), [...this.anc, this.variable])],\n          this.key_set, this.anc)\n      )\n    }\n\n    return resulted_variable_orders\n\n  }\n\n  append_variables2(atom: Atom, inserted_variables: string[], uninserted_variables: string[], query: Query) {\n\n    // we care only the variables in the atom\n    uninserted_variables = atom.variables.intersection(uninserted_variables).reverse()\n    inserted_variables = inserted_variables.intersection(atom.variables)\n    \n    if (uninserted_variables.length == 0)\n      return\n\n    const [found, lowest_node] = this.lowest_node_of_variables(inserted_variables.union(query.free_variables))\n    if (!found)\n      throw new Error(\"Don't find the atom_lowest node\")\n\n    // append the variables to this lowest_node\n    // key set is the inserted_variables: anc \\cap atom.variables\n    const tail_node = new Node(uninserted_variables[0], [], inserted_variables, [...lowest_node.anc,  lowest_node.variable])\n\n    const head_node = uninserted_variables.slice(1).reduce((current_node: Node, parent_variable: string, idx, variables) => {\n      // build a node for parent_variable, and in the current_node in the child_nodes\n      const variables_above_me = variables.slice(idx+1) // the variables from this node to the lowest_node\n      return new Node(parent_variable,\n        [current_node],\n        [...inserted_variables, ...variables_above_me],\n        [...lowest_node.anc, lowest_node.variable, ...variables_above_me]\n      )\n    }, tail_node)\n\n    lowest_node.child_nodes.push(head_node)\n  }\n\n  lowest_node_of_variables(target_variables: string[]): [boolean, Node, Node[]] {\n\n    // only search the remaining variables\n    if (target_variables.includes(this.variable)) {\n      target_variables = target_variables.filter(v => v !== this.variable) // remove this variable\n    }\n\n    if (target_variables.length == 0)\n      return [true, this, [this]]\n\n    for (let i = 0; i < this.child_nodes.length; i++) {\n      const [found, lowest_node, path] = this.child_nodes[i].lowest_node_of_variables(target_variables)\n      if (found) {\n        return [true, lowest_node, [this, ...path]]\n      }\n    }\n\n    // throw new Error(\"cannot find the path that covers the target variables \" + target_variables)\n    return [false, this, []]\n  }\n\n  depth(): number {\n    const depth_helper = (node: Node): number => {\n      if (node.child_nodes.length == 0) return 0\n      return Math.max(...node.child_nodes.map(c => depth_helper(c))) + 1\n    }\n    return depth_helper(this)\n  }\n\n  /*\n   * return a list of variable orders\n   * create a new copy of the node as long as itself or its decedents are modified\n   */\n  add_node2(variable:string, boundary_variable: string, below_boundary: boolean, query:Query): Node[] {\n\n    // 如果没有 boundary_variable, 就都可以搞\n    if (!boundary_variable) {\n      below_boundary = true\n    }\n    \n    // if the current node is empty, add to the current node\n    if (!this.variable) {\n      // root node\n      return [new Node(variable, this.child_nodes, this.key_set, this.anc)]\n    }\n\n    if (this.variable == boundary_variable) {\n      below_boundary = true\n    }\n\n    let resulted_variable_orders:Node[] = []\n\n    // add to child nodes\n    const res = this.child_nodes.flatMap((child_node, i) => {\n      const other_child_nodes = this.child_nodes.filter(n => n.variable != child_node.variable)\n\n      return child_node.add_node(variable, boundary_variable, below_boundary, query).map(new_child_node => {\n        const self = new Node(\n          this.variable,\n          [...other_child_nodes, new_child_node],\n          this.key_set,\n          this.anc,\n        ) // a copy of the current node with out the changed new_child_node\n        // self.child_nodes.push(new_child_node)\n        return self\n      })\n    })\n    resulted_variable_orders = resulted_variable_orders.concat(res)\n\n\n    // if it is not below or at the boundary, we would not go down\n    if (below_boundary) {\n      // add as the child node of the current node\n      resulted_variable_orders.push(\n        new Node(this.variable,\n          [...this.child_nodes, new Node(variable, [], [...this.anc, this.variable].intersection(query.dep[variable]), [...this.anc, this.variable])],\n          this.key_set, this.anc)\n      )\n    }\n\n    return resulted_variable_orders\n\n  }\n\n  path_to_variable(target_variable:string): { found: boolean; path: Node[]; } {\n    if (this.variable == target_variable)\n      return {\n        found: true,\n        path: [this]\n      }\n    if (this.child_nodes.length == 0)\n      return {\n        found: false,\n        path: []\n      }\n\n    for (let i = 0; i < this.child_nodes.length; i++) {\n      const {found, path} = this.child_nodes[i].path_to_variable(target_variable)\n      if (found)\n        return {\n          found: true,\n          path: [this, ...path],\n        }\n    }\n\n    return {\n      found: false,\n      path: []\n    }\n  }\n\n  contains_variables(variables:string[]): boolean {\n    if (variables.includes(this.variable))\n      return true\n\n    return this.child_nodes.some(child_node => child_node.contains_variables(variables))\n  }\n\n  rho(atoms: Atom[], key_set:string[]):number {\n\n    const cover_sets = atoms.map(atom => atom.variables).subsets()\n    const valid_cover_sets = cover_sets.filter(cover_set => cover_set.flat().isSuperset(key_set))\n    console.assert(valid_cover_sets.length >= 0)\n    return Math.min(...valid_cover_sets.map(s => s.length))\n  }\n\n  static_width(query:Query):number {\n    // const query_over_keys = query.atoms.filter(atom => atom.variables.intersection([this.variable, ...this.key_set]).length > 0).flatMap(atom => atom.variables).unique()\n    // console.log(this.toString(), query_over_keys);\n    \n\n    return Math.max(this.rho(query.atoms, [this.variable, ...this.key_set]), ...this.child_nodes.map(child_node => child_node.static_width(query)))\n  }\n\n  delta_width(query:Query) {\n    const res = Math.max(this.delta_width_of_this_node(query), ...this.child_nodes.map(child_node => child_node.delta_width(query)))\n    return res\n  }\n\n  delta_width_of_this_node(query:Query) {\n    const res = Math.max(...query.atoms_of_variables[this.variable].map(atom => this.rho(query.atoms, this.key_set.difference(atom.variables))))\n    // console.log(this._variable, res)\n    return res\n  }\n\n  toString() {\n    return `${this.variable}`\n  }\n}\n\nexport default Node","import ViewTreeNode from \"./ViewTreeNode\"\nimport Query from './Query'\n\nexport default class IndicatorViewNode extends ViewTreeNode {\n\n  public indicator_id: string = \"\"\n\n  public isIndicator(): boolean {\n    return true\n  }\n\n  public get_indicator_id(): string {\n    return this.indicator_id\n  }\n\n  // return a new copy of the view tree\n  public copy(): IndicatorViewNode {\n    const children = this.children.map(n => n.copy())\n    const new_node = new IndicatorViewNode(this.name, this.variable, [...this.keys], [...this.relations], children)\n    new_node.position = this.position\n    new_node.view_tex = this.view_tex\n    new_node.view_definition_tex = this.view_definition_tex\n    new_node.indicator_id = this.indicator_id\n    return new_node\n  }\n\n  to_tex(query: Query): string {\n    const key_tex = super.get_keys_tex(query, this.keys, [], false)\n    return `\\\\exists_{${key_tex}}` + super.to_tex(query)\n  }\n\n  to_delta_tex(query: Query, deltaR: ViewTreeNode, updated: boolean = false): string {\n    \n    const red_key_tex = this.get_keys_tex(query, this.keys, deltaR.keys)\n    const black_key_tex = this.get_keys_tex(query, this.keys)\n    let variable_tex = this.get_variable_tex(this.variable)\n    let relation_tex = \"\"\n\n    if (updated) {\n      return this.make_red(`\\\\delta` + `\\\\exists_{${black_key_tex}}` + `${this.name}_{${relation_tex}}^{${this.variable ? `@${variable_tex}` : \"\"}}`) + `(${red_key_tex})`\n    } else {\n      return `\\\\exists_{${black_key_tex}}` + `${this.name}_{${relation_tex}}^{${this.variable ? `@${variable_tex}` : \"\"}}(${red_key_tex})`\n    }\n    \n  }\n\n  to_view_definition_tex(query: Query): string {\n    return this.view_tex\n  }\n\n  to_delta_view_definition_tex(query: Query, deltaR: ViewTreeNode, path: ViewTreeNode[]): string {\n    return this.view_tex\n  }\n}","import Atom from \"./Atom\"\nimport Node from \"./Node\"\nimport ViewTreeNode from './ViewTreeNode'\nimport draw_tree from \"./asciitree\"\nimport \"./ArrayExtensions\"\nimport IndicatorViewNode from './IndicatorViewNode'\nimport {VOState} from '../types/VariableOrder'\n\nclass Query {\n\n  // inputs\n  public name: string\n  public free_variables: string[]\n  public atoms: Atom[]\n\n  // computed\n  public variables: string[]\n  public atoms_of_variables: { [key: string]: Atom[] }\n  public join_variables: string[]\n  public dep: { [key: string]: string[] }\n  public atom_by_name: {[key: string]: Atom}\n\n\n  // descendent_dep(X) is the variables in the subtree rooted at X depend\n  public descendent_dep: { [key: string]: string[] } = {}\n\n\n  constructor(name: string, free_variables: string[], atoms: Atom[]) {\n    const self = this\n    this.name = name\n    this.free_variables = [...free_variables].filter(v => v != \"\")\n    this.atoms = atoms\n    this.variables = this.get_variables().filter(v => v != '')\n\n    this.atom_by_name = {}\n    atoms.forEach(atom => {\n      this.atom_by_name[atom.name] = atom\n    })\n\n    this.atoms_of_variables = {}\n    this.variables.forEach(v => {\n      this.atoms_of_variables[v] = this.atoms.filter(atom => atom.variables.includes(v))\n    })\n\n    this.dep = {} // dependent set\n    this.variables.forEach(v => {\n      this.dep[v] = this.atoms_of_variables[v].flatMap(atom => atom.variables)\n    })\n\n    this.join_variables = []\n    for (let i = 0; i < atoms.length; i++) {\n      for (let j = i + 1; j < atoms.length; j++) {\n        this.join_variables.push(...atoms[i].variables.intersection(atoms[j].variables))\n      }\n    }\n\n\n  }\n\n\n\n  is_valid(): boolean {\n    if (this.atoms.length == 0) return false\n    if (this.variables.length == 0) return false\n    if (!this.variables.isSuperset(this.free_variables)) return false\n    return true\n  }\n\n  to_tex(): string {\n    const escaped_name = `${this.name}`.replace(\"_\", \"\\\\_\")\n    return `${escaped_name}(${[...this.free_variables].join(',')}) = ${this.atoms.map(atom => atom.toString()).join(',')}`\n  }\n\n  toString(): string {\n    return `${this.name}(${[...this.free_variables].join(',')}) = ${this.atoms.map(atom => atom.toString()).join(',')}`\n  }\n\n  get_variables(): string[] {\n    const variables: string[] = []\n    this.atoms.forEach(atom => atom.variables.forEach(variable => {\n      variables.push(variable)\n    }))\n    return variables.unique()\n  }\n\n  variable_order_to_view_tree(node: Node): ViewTreeNode {\n\n    // apply the recursion to them and combine them\n    let view_tree_nodes = [\n      ...node.child_nodes.map(n => this.variable_order_to_view_tree(n)),\n      ...node.view_tree_children\n    ]\n\n    console.assert(view_tree_nodes.length > 0, \"should have child view tree nodes\")\n\n    const union_child_keys = view_tree_nodes.map(n => n.keys).reduce((keys1, keys2) => keys1.union(keys2))\n    const union_child_relations = view_tree_nodes.map(n => n.relations).reduce((a, b) => a.union(b))\n    const descendent_dep_vars = this.descendent_dep[node.variable]\n\n    return new ViewTreeNode('V',\n      node.variable,\n      node.anc.intersection(descendent_dep_vars).union(this.free_variables.intersection(union_child_keys)),\n      union_child_relations,\n      view_tree_nodes)\n\n  }\n\n  update_descendent_dep(dynamic_relations: string[]) {\n    // this.descendent_dep\n    const vo = this.get_best_variable_order(dynamic_relations)\n\n    const update_descendent_dep_helper = (node: Node): string[] => {\n\n      const dep_vars: string[] = [...this.dep[node.variable], ...node.child_nodes.flatMap(n => update_descendent_dep_helper(n))].unique()\n      this.descendent_dep[node.variable] = dep_vars\n      return dep_vars\n    }\n    update_descendent_dep_helper(vo)\n  }\n\n  // return the delta view tree w.r.t the delta R\n  get_delta_view_tree(view_tree: ViewTreeNode, deltaR: ViewTreeNode, isIndicator: boolean, indicator_id: string = \"\"): ViewTreeNode {\n    const tree = view_tree.copy()\n    const [found, path] = tree.path_to_view(n => {\n      if (isIndicator) {\n        return n.isIndicator() && n.get_indicator_id() == indicator_id && n.name == deltaR.name\n      } \n      return !n.isIndicator() && n.name == deltaR.name\n    })\n    if (!found) {\n      throw new Error(\"does not find the view\")\n    }\n    tree.to_svg_delta_tree(this, deltaR, path)\n\n    return tree\n  }\n\n\n  add_indicator_projections(root: ViewTreeNode) {\n    root.post_order_apply(v => {\n      this.add_indicator_projections_for(v)\n    })\n  }\n  \n  private add_indicator_projections_for(view_tree: ViewTreeNode) {\n    \n    // no need to add indicators if it is a relation\n    if (view_tree.name != \"V\") {\n      return \n    }\n\n\n    const ind_nodes = this.atoms\n      .filter(atom => !view_tree.relations.includes(atom.name)) //  R ∈ R \\ rels\n      .filter(atom => atom.variables.intersection(view_tree.keys).length > 0) // pk = sch(R) ∩ keys, pk != emptyset\n      .map(atom => new ViewTreeNode(atom.name, \"\", atom.variables, [atom.name], []))\n\n    const children = view_tree.children\n\n    let gyo_candidates = [...children, ...ind_nodes]\n    gyo_candidates = gyo_candidates.filter((e, i) => gyo_candidates.findIndex(a => (a.name + a.variable) === (e.name + e.variable)) === i); // remove dupliate\n\n    // TODO: we need to select the incycle with least size\n    // e.g. for the 4-loop-chord query, and its subquery R(A,B), S(B,C)\n    // the relation W(A,C) makes the subquery a cycle\n    // but relations T(C,D) U(D,A) W(A,C) also make it a cycle (subsume the previous case)\n    // we should prefer the incycle with least size\n    const gyo_candidates_subsets = gyo_candidates.subsets().sort((a,b) => a.length - b.length)\n    let incycle: ViewTreeNode[] = []\n    for (let i = 0; i < gyo_candidates_subsets.length; i++) {\n      incycle = this.GYO(gyo_candidates_subsets[i])\n      if (incycle.length > 0) break\n    }\n\n    const indicators = incycle.filter(indicator => !children.some(c => (c.name+c.variable) == (indicator.name+indicator.variable))) // incycle - children\n\n    // log\n\n    const child_indicators = indicators.map(indicator => new IndicatorViewNode(indicator.name, indicator.variable, indicator.keys, indicator.relations, []))\n    child_indicators.forEach(child_indicator => {\n      child_indicator.indicator_id = [child_indicator.name, ...view_tree.children.map(c => c.variable || c.name)].join(\"_\")\n    })\n\n    view_tree.children.push(...child_indicators)\n\n    // view_tree.children.push(...indicators.map(indicator => new IndicatorViewNode(\"I\", indicator.name, indicator.keys, indicator.relations, [])))   \n  }\n\n  GYO(nodes: ViewTreeNode[]): ViewTreeNode[] {\n    // get a copy of nodes\n    nodes = nodes.map(node => node.copy())\n\n    const is_subsumed = (node: ViewTreeNode): boolean => {\n      if (node.keys.length == 0) return true\n      const other_nodes = nodes.filter(a => a != node)\n      return other_nodes.some(a => a.keys.isSuperset(node.keys))\n    }\n\n    const is_isolated = (v: string): boolean => {\n      return nodes.filter(a => a.keys.includes(v)).length == 1\n    }\n\n    let changing = true\n    let old_len = 0\n    while(changing) {\n      nodes.forEach(node => {\n        old_len = node.keys.length\n        node.keys = node.keys.filter(v => !is_isolated(v))\n        changing = node.keys.length != old_len\n      })\n\n      old_len = nodes.length\n      nodes = nodes.filter(a => !is_subsumed(a))\n      changing = nodes.length != old_len\n    }\n\n    return nodes\n  }\n\n  // get the view tree containing the views that are necessary for the dynamic relations\n  get_filtered_view_tree(dynamic_relations: string[]): ViewTreeNode {\n    // const tree = original_view_tree.copy()\n    const tree = this.get_view_tree(dynamic_relations)\n\n    // pre-order check the usefulness of the views\n    // and ditch the useless views\n    const keep_only_useful_views_below = (root: ViewTreeNode): [ViewTreeNode[], ViewTreeNode[]] => {\n      let useful_children: ViewTreeNode[] = [] \n      for (let i = 0; i < root.children.length; i++) {\n        for (let j = 0; j < root.children.length; j++) {\n          if (i == j) continue\n\n          // every pair of distinct child views\n          if (root.children[j].relations.intersection(dynamic_relations).length > 0\n            // && root.children[i].name == \"V\"\n            && !useful_children.includes(root.children[i])\n            // && !root.children[i].keys.equals(root.keys)\n            ) {\n            useful_children.push(root.children[i])\n          } \n        }\n      }\n\n      // filter out child views that have the same keys with their parent views\n      useful_children = useful_children.filter(c => {\n        if (c.children.length == 1 && c.children[0].keys.equals(c.keys)) \n          return false\n        return true\n      })\n\n      const useless_children = root.children.difference(useful_children)\n      const [useful_views_below_useless_children, useless_views_below_useless_children] = useless_children\n        .map(c => keep_only_useful_views_below(c))\n        .reduce(([useful_l, useless_l], [useful_r, useless_r]) => [useful_l.union(useful_r), useless_r.union(useless_l)], \n        [[], []])\n\n\n      // prompt useful views that below useless children up\n      // by linking them to the current view\n      return [[...useful_children, ...useful_views_below_useless_children], [...useless_children, ...useless_views_below_useless_children]]\n    }\n\n    // pre-order apply\n    const filter_children = (root: ViewTreeNode) => {\n      const [useful_children, useless_views] = keep_only_useful_views_below(root)\n      root.compressed_views = [...root.compressed_views, ...useless_views]\n      root.children = useful_children\n      root.children.forEach(c => filter_children(c))\n    }\n    \n    \n    filter_children(tree)\n\n    this.append_relations(tree)\n    this.add_indicator_projections(tree)\n    tree.to_svg_tree(this)\n\n    return tree\n  }\n\n    // traverse the view tree, for each view\n  // append the view.relations - (relations in view.children)\n  // i.e., append only the relations that should be in this level\n  append_relations(tree: ViewTreeNode, dynamic_relations?: string[]) {\n\n    tree.post_order_apply(view => {\n      if (view.name != \"V\") return\n\n      const relations_below = view.children.reduce((child_relations: string[], c: ViewTreeNode) => child_relations.union(c.relations), [])\n      let relations_this_level = view.relations.difference(relations_below)\n      if (dynamic_relations)\n       relations_this_level = relations_this_level.intersection(dynamic_relations)\n\n      const relation_nodes: ViewTreeNode[] = relations_this_level.map((name: string) => {\n        const atom = this.atom_by_name[name]\n        return new ViewTreeNode(atom.name, \"\", atom.variables, [atom.name], [])\n      })\n\n      view.children.push(...relation_nodes)\n\n    })\n\n  }\n\n  get_view_tree(dynamic_relations: string[]): ViewTreeNode {\n    const [vo, inserted] = this.get_best_succinct_variable_order(dynamic_relations.map(r_name => this.atom_by_name[r_name]))\n    this.update_descendent_dep(dynamic_relations)\n\n    // const inserted = this.free_variables.union(this.join_variables)\n    // const inserted = this.join_variables\n    const uninserted = this.variables.difference(inserted)\n\n    // insert the non-join variables in each atoms to the succinct variable order\n    this.atoms.forEach(atom => {\n      vo.append_relation(atom, inserted, uninserted, this)\n    })\n\n    // process the variable order\n    const processed_vo = this.variable_order_to_view_tree(vo)\n    processed_vo.to_svg_tree(this)\n    return processed_vo\n  }\n\n  // return: [variable order, variables that are in the succinct variable order]\n  get_best_succinct_variable_order(dynamic_relations: Atom[]): [Node,string[]] {\n\n    // get the variable orders with only join variables\n    const join_variables = this.join_variables\n    const free_variables = this.free_variables\n\n    // console.log(join_variables, free_variables, join_variables.intersection(free_variables));\n    const free_join_variables = join_variables.intersection(free_variables)\n    \n    // 这里的原因是，free variables 需要放在最上面\n    // 所以要先把那些必须要在上面的选出来放到 variable orders 里面\n    // 然后再放其他的\n    // 这样保证这些选中的 variables 一定在最上面\n\n    // 对于所有的 atoms \n    // 先看有没有 free and join\n    // 如果没有 就退而求其次, 任意一个 free variable 哪怕不是 join variables\n    // 如果还没有，说明没有什么 variable 应该在其他之上，所以公平竞争\n    const free_top_variables = this.atoms.flatMap(atom => {\n      // const atom_free \n      const atom_free_join_vars = atom.variables.intersection(free_join_variables)\n      if (atom_free_join_vars.length == 0) {\n        const atom_free_vars = atom.variables.intersection(free_variables)\n        if (atom_free_vars.length > 0 && atom_free_vars.length > 0) \n          atom_free_join_vars.push(atom_free_vars[0])\n      }\n      // if (atom_free_join_vars.length == 0 &&join_variables.length > 0) {\n      //   atom_free_join_vars.push(join_variables[0])\n      // }\n      // if (atom_free_join_vars.length == 0 && atom.variables.length > 0) {\n      //   atom_free_join_vars.push(atom.variables[0])\n      // }\n      \n      return atom_free_join_vars\n    }).unique()\n    // console.log({free_join_variables, free_top_variables});\n    // console.log(free_top_variables)\n    \n    \n  \n    // 先把 free_top_variables 放进去\n    const free_join_top_variable_orders = this.expand_variable_orders([], free_top_variables.reverse(), false)\n    // 再放 其他的 variables \n    const succinct_variable_orders = this.expand_variable_orders(free_join_top_variable_orders, join_variables.difference(free_top_variables), true)\n\n    \n\n    // const succinct_variable_orders = this.get_free_top_variable_orders(join_variables.union(free_variables))\n\n    const vo_width_tuples: [Node, number][] = succinct_variable_orders.map(vo => [vo, vo.static_width(this)])\n\n\n    // order the variable orders by some conditions\n    // 1. width\n    // 2. the depth of the dynamic relations\n    // 3. balance / depth\n    // console.log(dynamic_relations);\n    const best_vo_width_tuple = vo_width_tuples.sort(([vo1, w1], [vo2, w2]) => {\n      if (w1 != w2) return w1 - w2 // width\n\n      // dynamic relations depth\n      let dynamic_depth_1 = 0\n      let dynamic_depth_2 = 0\n      dynamic_relations.forEach(dynamic_relation => {\n        dynamic_depth_1 += vo1.lowest_node_of_variables(dynamic_relation.variables.intersection(join_variables))[2].length // length of path\n        dynamic_depth_2 += vo2.lowest_node_of_variables(dynamic_relation.variables.intersection(join_variables))[2].length // length of path\n      })\n      if (dynamic_depth_1 != dynamic_depth_2) \n        return dynamic_depth_1 - dynamic_depth_2\n\n      // balance\n      return vo1.depth() - vo2.depth()\n    })\n    \n    // const best_vo_width_tuple = vo_width_tuples.reduce((best_vo_width, vo_width) => {\n    //   return best_vo_width[1] < vo_width[1] ? best_vo_width : vo_width\n    // })\n\n    return [best_vo_width_tuple[0][0], free_top_variables.union(join_variables)]\n  }\n\n\n  get_best_variable_order(dynamic_relations: string[]): Node {\n\n    const [best_succinct_variable_order, inserted_variables] = this.get_best_succinct_variable_order(dynamic_relations.map(r_name => this.atom_by_name[r_name]))\n\n    const free_variables = this.free_variables\n    const join_variables = this.join_variables\n    const free_join_variables = free_variables.intersection(join_variables)\n\n    // append non-join free variables\n    const non_join_free_variables = free_variables.difference(join_variables).difference(inserted_variables)\n    this.atoms.forEach(atom => {\n      best_succinct_variable_order.append_variables(atom.variables.intersection(non_join_free_variables), atom.variables.intersection(free_join_variables))\n    })\n\n    // append non-join bound variables\n    const non_join_bound_variables = this.variables.difference(free_variables).difference(join_variables).difference(inserted_variables)\n    this.atoms.forEach(atom => {\n      best_succinct_variable_order.append_variables(atom.variables.intersection(non_join_bound_variables), atom.variables.intersection(join_variables))\n    })\n\n    this.update_key_sets(best_succinct_variable_order)\n\n    return best_succinct_variable_order\n  }\n\n  permutator(inputArr: any[]): any[][] {\n    let result:any[] = [];\n  \n    const permute = (arr:any[], m:any[] = []) => {\n      if (arr.length === 0) {\n        result.push(m)\n      } else {\n        for (let i = 0; i < arr.length; i++) {\n          let curr = arr.slice();\n          let next = curr.splice(i, 1);\n          permute(curr.slice(), m.concat(next))\n       }\n     }\n   }\n  \n   permute(inputArr)\n  \n   return result;\n  }\n\n  get_free_linked_list(free_variables:string[]): Node[] {\n    \n    const linked_list = free_variables.map((v, i, variables) => {\n      // if (i )\n      const variables_above_me = variables.slice(i+1)\n      return new Node(v,\n        [],\n        variables_above_me,\n        variables_above_me\n      )\n    })\n    // link them together\n    for (let i = 0; i < linked_list.length-1; i++) {\n      linked_list[i+1].child_nodes.push(linked_list[i])\n    }\n    \n\n    // lowest_node.child_nodes.push(head_node)\n    return linked_list.reverse()\n  }\n\n  /**\n   * starting from the input variable orders, return all possible vos after inserting variables\n   * @param variable_orders \n   * @param variables \n   * @param update_key_sets \n   */\n  expand_variable_orders(variable_orders: Node[], variables: string[], update_key_sets: boolean = true): Node[] {\n\n    // console.log(variable_orders, variables);\n\n    if (variables.length == 0) {\n      return variable_orders\n    }\n    \n\n    let frontier: { variable_order: Node; starting_node?: Node; remaining_variables: string[] }[] = variable_orders.map(vo => {\n      return {\n        variable_order: vo,\n        starting_node: undefined,\n        remaining_variables: variables,\n      }\n    })\n\n    // put a dumb init state incase it is empty\n    if (frontier.length == 0) {\n      frontier.push({\n        variable_order: new Node(\"\", [], [], []),\n        starting_node: undefined,\n        remaining_variables: variables,\n      })\n    }\n\n    const constructed_variable_orders = []\n    while (frontier.length > 0) {\n\n      const state = frontier.pop()\n      if (!state) break\n\n      if (state.remaining_variables.length == 0) {\n        constructed_variable_orders.push(state.variable_order)\n        continue\n      }\n      frontier = frontier.concat(this.expand(state))\n    }\n\n    if (update_key_sets) {\n      constructed_variable_orders.forEach(vo => {\n        this.update_key_sets(vo)\n      })\n    }\n\n    return constructed_variable_orders\n\n  }\n\n  get_free_top_variable_orders(initial_variables?: string[]): Node[] {\n    // DFS ..\n    const remaining_variables = initial_variables || this.get_variables()\n\n    const free_remaining_variables = remaining_variables.filter(v => this.free_variables.includes(v))\n    const bound_remaining_variables = remaining_variables.filter(v => !this.free_variables.includes(v))\n\n    const dumb_init_state = {\n      variable_order: new Node(\"\", [], [], []),\n      starting_node: undefined,\n      remaining_variables: initial_variables || this.get_variables(),\n    }\n\n    let frontier: { variable_order: Node; starting_node?: Node; remaining_variables: string[] }[] = [dumb_init_state]\n\n\n    if (free_remaining_variables.length != 0) {\n      const free_remaining_variable_permutation: string[][] = this.permutator(free_remaining_variables)\n      frontier = free_remaining_variable_permutation.map(free_vars => {\n        const l = this.get_free_linked_list(free_vars)\n        // console.log(free_vars);\n\n        // l.forEach(vo => {\n        //   console.log(vo.draw_tree(true));\n        // })\n        \n        return {\n          variable_order: l[0],\n          starting_node: l[l.length - 1], // only add starting from the tail of the head variables\n          remaining_variables: bound_remaining_variables,\n        }\n      })\n    }\n\n    // console.log(frontier);\n    \n\n\n    let constructed_variable_orders = []\n\n    while (frontier.length > 0) {\n\n      const state = frontier.pop()\n      if (!state) break\n\n      if (state.remaining_variables.length == 0) {\n        constructed_variable_orders.push(state.variable_order)\n        continue\n      }\n      frontier = frontier.concat(this.expand(state))\n    }\n\n    // const target_free_remaining_variables = free_remaining_variables.slice(1)\n    // constructed_variable_orders = \n    constructed_variable_orders.forEach(vo => {\n      // const l = this.get_free_linked_list(target_free_remaining_variables)\n\n      // new_tail.child_nodes.push(body)\n      \n      // this.add_anc(body, target_free_remaining_variables)\n      this.update_key_sets(vo)\n      // return new_head\n    })\n\n    // const A_top_vo = constructed_variable_orders\n    // A_top_vo.forEach(vo => {\n    //   console.log(vo.draw_tree(true))\n    //   console.log(vo.static_width(this));\n    // })\n    return constructed_variable_orders\n\n  }\n\n  add_anc(root: Node, anc: string[]) {\n    root.post_order_apply(n => {\n      n.anc.push(...anc)\n    })\n  }\n\n  update_key_sets(root: Node) {\n    root.post_order_apply(node => {\n      const node_dependent_variables = node.descendent_variables().flatMap(v => this.dep[v]).union(this.dep[node.variable])\n      node.key_set = node_dependent_variables.intersection(node.anc)\n\n    })\n  }\n\n  widths(): { delta_width: number; static_width: number; variable_order: string } {\n    const free_top_variable_orders = this.get_free_top_variable_orders()\n    const delta_widths = free_top_variable_orders.map(vo => vo.delta_width(this))\n    const static_widths = free_top_variable_orders.map(vo => vo.static_width(this))\n\n    const target_delta_width = Math.min(...delta_widths)\n    const target_static_width = Math.min(...static_widths)\n\n    for (let i = 0; i < free_top_variable_orders.length; i++) {\n      if (delta_widths[i] == target_delta_width && static_widths[i] == target_static_width) {\n        return {\n          delta_width: delta_widths[i],\n          static_width: static_widths[i],\n          variable_order: draw_tree(free_top_variable_orders[i], (node: Node) => (this.free_variables.includes(node.toString()) ? `(${node})` : `${node}`), (node: Node) => node.child_nodes)\n        }\n      }\n    }\n    console.assert(false, 'Should not reach here')\n    return { delta_width: -1, static_width: -1, variable_order: \"\" }\n  }\n\n  /*\n   * expand the state\n   */\n  expand(state: { variable_order: Node; starting_node?: Node; remaining_variables: string[] }): { variable_order: Node; starting_node?: Node; remaining_variables: string[] }[] {\n    \n    const { variable_order, starting_node, remaining_variables } = state\n    if (remaining_variables.length == 0) {\n      return []\n    }\n\n    const free_remaining_variables = remaining_variables.filter(v => this.free_variables.includes(v))\n    const target_variables = free_remaining_variables.length == 0 ? remaining_variables : free_remaining_variables\n\n    const res = target_variables.flatMap(v => {\n\n      const result_variable_orders = variable_order.add_node(v, starting_node ? starting_node.variable : \"\", false, this)\n        .filter(vo => {\n          // check whether the position is ok\n          const { found, path } = vo.path_to_variable(v)\n          for (let i = 0; i < path.length - 1; i++) {\n            const node = path[i]\n            const next_node = path[i + 1]\n            const found_incorrect = node.child_nodes.filter(child_node => child_node.variable != next_node.variable)\n              .some(child_node => child_node.contains_variables(this.dep[v]))\n            if (found_incorrect)\n              return false\n          }\n          return true\n        })\n\n      return result_variable_orders.map(vo => {\n        return {\n          variable_order: vo,\n          starting_node,\n          remaining_variables: remaining_variables.filter(_v => _v != v) // remaining_variables - v\n        }\n      })\n    })\n\n    return res\n  }\n\n\n}\n\nexport const parse_query_text = function (new_query_text: String): Query {\n  let [query_part, atom_part] = new_query_text.replace(/\\s/g, '').split('=')\n  if (!query_part || !atom_part) {\n    throw new Error(\"Doesn't find the = \")\n  }\n\n  if (query_part.split('(').length <= 1)\n    throw new Error(\"cannot find the attributes\")\n  const query_name = query_part.split('(')[0]\n  const free_variables = query_part.split('(')[1].replace(')', '').split(',')\n\n  if (atom_part.split('),').length == 0)\n    throw new Error(\"invalid atom part \")\n\n\n  const atoms: Atom[] = atom_part.split('),').map(atom_text => {\n    if (atom_text.split('(').length <= 1)\n      throw new Error(\"some atom text is invalid\")\n\n    const atom_name = atom_text.split('(')[0]\n    const variables = atom_text.split('(')[1].replace(')', '').split(',')\n    return new Atom(atom_name, variables)\n  })\n\n  return new Query(query_name, free_variables, atoms)\n}\n\n// export const get_dtree_file = function ()\n\nexport default Query","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.Q)?_c('div',_vm._l((_vm.Q.atoms),function(atom,i){return _c('p',{key:atom.name},[_vm._v(\" \"+_vm._s(i === 0 ? ((_vm.Q.name) + \"() = \") : \"\")+\" \"),_c('strong',[_vm._v(_vm._s(atom.name))]),_vm._v(\"( \"),_c('VariableText',{attrs:{\"variables\":atom.variables,\"Q\":_vm.Q}}),_vm._v(\" )\"+_vm._s(i !== _vm.Q.atoms.length - 1 ? \",\" : \"\")+\" \")],1)}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',_vm._l((_vm.variables),function(v,j){return _c('span',{key:v},[_c('span',{class:_vm.Q.join_variables.includes(v) ? 'join-vars' : ''},[_vm._v(_vm._s(v))]),_vm._v(_vm._s(j !== _vm.variables.length - 1 ? \",\" : \"\")+\" \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span>\n    <span :key=\"v\" v-for=\"(v,j) in variables\">\n      <span :class=\"Q.join_variables.includes(v) ? 'join-vars' : ''\">{{v}}</span>{{j !== variables.length - 1 ? \",\" : \"\"}}\n      \n    </span>\n  </span>\n</template>\n\n<script>\nimport Query from \"../../util/Query\";\nexport default {\n  props: [\"variables\", \"Q\"],\n  data() {\n    return {\n      \n    }\n  },\n  mounted: function() {\n    // console.log(this.Q)\n  }\n}\n</script>\n\n<style>\n.join-vars {\n  color: #3366ff;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VariableText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VariableText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VariableText.vue?vue&type=template&id=1956355f&\"\nimport script from \"./VariableText.vue?vue&type=script&lang=js&\"\nexport * from \"./VariableText.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VariableText.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-if=\"Q\">\n    <p :key=\"atom.name\" v-for=\"(atom,i) in Q.atoms\">\n      {{i === 0 ? `${Q.name}() = ` : \"\"}} \n      <strong>{{atom.name}}</strong>(\n        <VariableText :variables=\"atom.variables\" :Q=\"Q\" />\n      ){{i !== Q.atoms.length - 1 ? \",\" : \"\"}}\n    </p>\n  </div>\n</template>\n\n<script>\nimport Query from \"../../util/Query\";\nimport VariableText from \"./VariableText.vue\"\n\nexport default {\n  props: [\"Q\"],\n  data() {\n    return {\n      \n    }\n  },\n  mounted: function() {\n    // console.log(this.Q)\n  },\n  components: {\n    VariableText,\n  }\n}\n</script>\n\n<style>\n.join-vars {\n  color: #3366ff;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueryText.vue?vue&type=template&id=48863576&\"\nimport script from \"./QueryText.vue?vue&type=script&lang=js&\"\nexport * from \"./QueryText.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QueryText.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Watch, Vue } from \"vue-property-decorator\";\nimport { RelationInfo, QueryInfo } from \"../types/Query\";\nimport { parse_query_text } from \"../util/Query\";\nimport Query from \"../util/Query\";\nimport \"../util/ArrayExtensions\";\n\nimport QueryText from \"./QueryText/QueryText.vue\";\n\n@Component({\n  components: {\n    QueryText,\n  },\n})\nexport default class Dataset extends Vue {\n  // data\n  Q: Query | null = null;\n  selected_dataset_name: string | null = null;\n  selected_model: string = \"\";\n  query_text?: string;\n  query: QueryInfo = {\n    name: \"\",\n    relations: [],\n    free_variable_relation: { name: \"Free variables\", variables: [] },\n  };\n\n  get dataset(): {\n    name: string;\n    category: string;\n    relations: RelationInfo[];\n  }[] {\n    return this.$store.state.dataset;\n  }\n\n  get dataset_categories() {\n    return this.dataset.map((d) => d.category).unique();\n  }\n\n  get_query_text(): string {\n    if (!this.query || !this.query.free_variable_relation.selected_variables)\n      return \"\";\n\n    return (\n      `Q_${\n        this.query.name\n      }(${this.query.free_variable_relation.selected_variables.join(\", \")})` +\n      ` = ${this.query.relations\n        .filter((r) => r.selected)\n        .map(\n          (r) =>\n            `${r.name}(${\n              r.selected_variables != undefined\n                ? r.selected_variables.join(\", \")\n                : \"\"\n            })`\n        )\n        .join(\", \")}`\n    );\n  }\n\n  @Watch(\"selected_dataset_name\", { immediate: true, deep: true })\n  onNameChanged(name: string) {\n    // console.log(name)\n    if (name == null) return;\n    const selected_dataset = this.dataset.find((d) => d.name == name);\n    if (!selected_dataset) return;\n\n    this.query = {\n      name: selected_dataset.name,\n      relations: selected_dataset.relations.map((relation: RelationInfo) => {\n        return {\n          ...relation,\n          selected_variables: [...relation.variables],\n          selected: true,\n          indeterminate: false,\n          checkAll: true,\n        };\n      }),\n      free_variable_relation: {\n        ...this.query.free_variable_relation,\n        variables: selected_dataset.relations\n          .map((r: RelationInfo) => r.variables)\n          .flat()\n          .unique(),\n        selected_variables: [],\n        selected: true,\n        indeterminate: false,\n        checkAll: false,\n      },\n    };\n\n    this.query_text = this.get_query_text();\n    this.Q = parse_query_text(this.query_text);\n  }\n\n  handleNext() {\n    // this.$store.commit(\"SET_QUERY_INFO\", this.query);\n    const self = this;\n    this.$store.commit(\"SET_QUERY\", this.Q);\n    this.$store.commit(\"SET_QUERY_TEXT\", this.query_text);\n\n    this.$store.dispatch(\"init\", {\n      dataset: this.selected_dataset_name,\n      model: this.selected_model,\n      onSuccess: function () {\n        // after fetched\n\n        self.$store.commit(\"SET_TAB\", \"viewGeneration\");\n      },\n    });\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dataset.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dataset.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Dataset.vue?vue&type=template&id=219c3315&\"\nimport script from \"./Dataset.vue?vue&type=script&lang=ts&\"\nexport * from \"./Dataset.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',[_c('h4',[_vm._v(\"Join Tree\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\"},attrs:{\"id\":\"joinTree\"}})]),_c('br'),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"12\"}},[_c('h4',[_vm._v(\"Output Queries\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\",\"padding\":\"5px\"}},[_c('p',[_vm._v(\"Right-click the queries to change their root\")]),_vm._l((_vm.joinTreeD3.relations),function(relation){return _c('div',{key:relation.id,staticStyle:{\"margin-top\":\"5px\"}},[_c('h5',[_vm._v(_vm._s(relation.name))]),_c('hr',{staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}}),_c('Tree',{attrs:{\"data\":_vm.outputQueries[relation.name]},on:{\"on-contextmenu\":_vm.handleContextMenu}},[_c('template',{slot:\"contextMenu\"},_vm._l((_vm.joinTreeD3.relations),function(relation){return _c('DropdownItem',{key:relation.id,nativeOn:{\"click\":function($event){return _vm.changeRoot(relation.name)}}},[_vm._v(_vm._s(relation.name))])}),1)],2)],1)})],2)]),_c('Col',{attrs:{\"span\":\"12\"}},[_c('h4',[_vm._v(\"Intermediate Views\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\",\"padding\":\"5px\"}},[(_vm.selectedEdge.source)?_c('div',[_c('h5',[_vm._v(_vm._s(_vm.selectedEdge.source)+\" to \"+_vm._s(_vm.selectedEdge.target))]),_c('hr',{staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}}),_c('Tree',{attrs:{\"data\":_vm.intermediateViews}})],1):_c('div',[_vm._v(\"Click the arrows to inspect the intermediate views\")])])])],1),_c('br'),_c('Row',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.regenerateViews}},[_vm._v(\"Regenerate Views\")])],1),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.groupViews}},[_vm._v(\"Group Views\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const mockJoinTree = {\n   \"relations\": [{\n         \"name\": \"R\",\n         \"id\": 0\n      },\n      {\n         \"name\": \"S\",\n         \"id\": 1\n      },\n      {\n         \"name\": \"T\",\n         \"id\": 2\n      },\n      {\n         \"name\": \"U\",\n         \"id\": 3\n      },\n   ],\n   \"edges\": [\n      {\n         \"origin\": \"R\",\n         \"dest\": \"R\",\n         \"views\": [\"V3\", \"V7\", \"V8\", \"V9\"]\n      },\n      {\n         \"origin\": \"R\",\n         \"dest\": \"S\",\n         \"views\": [\"V10\"]\n      },\n      {\n         \"origin\": \"R\",\n         \"dest\": \"T\",\n         \"views\": [\"V12\"]\n      },\n      {\n         \"origin\": \"S\",\n         \"dest\": \"R\",\n         \"views\": [\"V0\", \"V4\"]\n      },\n      {\n         \"origin\": \"S\",\n         \"dest\": \"S\",\n         \"views\": [\"V11\"]\n      },\n      {\n         \"origin\": \"T\",\n         \"dest\": \"R\",\n         \"views\": [\"V2\", \"V6\"]\n      },\n      {\n         \"origin\": \"T\",\n         \"dest\": \"T\",\n         \"views\": [\"V13\"]\n      },\n      {\n         \"origin\": \"T\",\n         \"dest\": \"U\",\n         \"views\": [\"V14\"]\n      },\n      {\n         \"origin\": \"U\",\n         \"dest\": \"T\",\n         \"views\": [\"V1\", \"V5\"]\n      },\n      {\n         \"origin\": \"U\",\n         \"dest\": \"U\",\n         \"views\": [\"V15\"]\n      },\n   ],\n   \"views\": [{\n         \"name\": \"V0\",\n         \"groupby\": [\"A\", \"B\", \"cluster_D\"],\n         \"aggregates\": [\"A\", \"B\", \"cluster_D\"],\n      },\n      {\n         \"name\": \"V1\",\n         \"groupby\": [\"E\", \"cluster_F\"],\n         \"aggregates\": [\"E\", \"cluster_F\"],\n      },\n      {\n         \"name\": \"V2\",\n         \"groupby\": [\"A\", \"cluster_E\", \"cluster_F\"],\n         \"aggregates\": [\"A\", \"cluster_E\", \"cluster_F\"],\n      },\n      {\n         \"name\": \"V3\",\n         \"groupby\": [\"cluster_A\", \"cluster_B\", \"cluster_C\", \"cluster_D\", \"cluster_E\", \"cluster_F\"],\n         \"aggregates\": [\"cluster_A\", \"cluster_B\", \"cluster_C\", \"cluster_D\", \"cluster_E\", \"cluster_F\"],\n      },\n      {\n         \"name\": \"V4\",\n         \"groupby\": [\"A\", \"B\"],\n         \"aggregates\": [\"A\", \"B\"],\n      },\n      {\n         \"name\": \"V5\",\n         \"groupby\": [\"E\"],\n         \"aggregates\": [\"E\"],\n      },\n      {\n         \"name\": \"V6\",\n         \"groupby\": [\"A\"],\n         \"aggregates\": [\"A\"],\n      },\n      {\n         \"name\": \"V7\",\n         \"groupby\": [\"A\"],\n         \"aggregates\": [\"A\"],\n      },\n      {\n         \"name\": \"V8\",\n         \"groupby\": [\"B\"],\n         \"aggregates\": [\"B\"],\n      },\n      {\n         \"name\": \"V9\",\n         \"groupby\": [\"C\"],\n         \"aggregates\": [\"C\"],\n      },\n      {\n         \"name\": \"V10\",\n         \"groupby\": [\"A\", \"B\"],\n         \"aggregates\": [\"A\", \"B\"],\n      },\n      {\n         \"name\": \"V11\",\n         \"groupby\": [\"D\"],\n         \"aggregates\": [\"D\"],\n      },\n      {\n         \"name\": \"V12\",\n         \"groupby\": [\"A\"],\n         \"aggregates\": [\"A\"],\n      },\n      {\n         \"name\": \"V13\",\n         \"groupby\": [\"E\"],\n         \"aggregates\": [\"E\"],\n      },\n      {\n         \"name\": \"V14\",\n         \"groupby\": [\"E\"],\n         \"aggregates\": [\"E\"],\n      },\n      {\n         \"name\": \"V15\",\n         \"groupby\": [\"F\"],\n         \"aggregates\": [\"F\"],\n      },\n   ],\n   \"queries\": [{\n         \"name\": \"Q0\",\n         \"groupby\": [\"cluster_A\", \"cluster_B\", \"cluster_C\", \"cluster_D\", \"cluster_E\", \"cluster_F\"],\n         \"root\": \"R\",\n         \"aggregates\": [\"cluster_A\", \"cluster_B\", \"cluster_C\", \"cluster_D\", \"cluster_E\", \"cluster_F\"],\n      },\n      {\n         \"name\": \"Q1\",\n         \"groupby\": [\"A\"],\n         \"root\": \"R\",\n         \"aggregates\": [\"A\"],\n      },\n      {\n         \"name\": \"Q2\",\n         \"groupby\": [\"B\"],\n         \"root\": \"R\",\n         \"aggregates\": [\"B\"],\n      },\n      {\n         \"name\": \"Q3\",\n         \"groupby\": [\"C\"],\n         \"root\": \"R\",\n         \"aggregates\": [\"C\"],\n      },\n      {\n         \"name\": \"Q4\",\n         \"groupby\": [\"D\"],\n         \"root\": \"R\",\n         \"aggregates\": [\"D\"],\n      },\n      {\n         \"name\": \"Q5\",\n         \"groupby\": [\"E\"],\n         \"root\": \"R\",\n         \"aggregates\": [\"E\"],\n      },\n      {\n         \"name\": \"Q6\",\n         \"groupby\": [\"F\"],\n         \"root\": \"R\",\n         \"aggregates\": [\"F\"],\n      },\n   ],\n   \"groups\": [{\n         \"name\": \"Group 0\",\n         \"views\": [\"V0\", \"V4\"]\n      },\n      {\n         \"name\": \"Group 1\",\n         \"views\": [\"V1\", \"V5\"]\n      },\n      {\n         \"name\": \"Group 2\",\n         \"views\": [\"V12\"]\n      },\n      {\n         \"name\": \"Group 3\",\n         \"views\": [\"V2\", \"V6\", \"V13\", \"V14\"]\n      },\n      {\n         \"name\": \"Group 4\",\n         \"views\": [\"V3\", \"V7\", \"V8\", \"V9\", \"V10\"]\n      },\n      {\n         \"name\": \"Group 5\",\n         \"views\": [\"V15\"]\n      },\n      {\n         \"name\": \"Group 6\",\n         \"views\": [\"V11\"]\n      },\n   ],\n   \"groupEdges\": [{\n         \"origin\": \"Group 0\",\n         \"dest\": \"Group 2\",\n      },\n      {\n         \"origin\": \"Group 1\",\n         \"dest\": \"Group 3\",\n      },\n      {\n         \"origin\": \"Group 2\",\n         \"dest\": \"Group 3\",\n      },\n      {\n         \"origin\": \"Group 0\",\n         \"dest\": \"Group 4\",\n      },\n      {\n         \"origin\": \"Group 3\",\n         \"dest\": \"Group 4\",\n      },\n      {\n         \"origin\": \"Group 3\",\n         \"dest\": \"Group 5\",\n      },\n      {\n         \"origin\": \"Group 4\",\n         \"dest\": \"Group 6\",\n      },\n   ]\n}","// TODO: get the join tree generated by LMFAO rather than\n// using the mock data\nimport {\n  mockJoinTree\n} from \"./mockdata/mockJoinTree\"\nimport { view } from \"paper\"\n// import _ from lodash\nconst _ = require(\"lodash\")\n\n// get the join tree json\nconst joinTreeD3 = {\n  ...mockJoinTree,\n  nodes: mockJoinTree.relations.map(relation => {\n    return {id: relation.name}\n  }),\n  links: mockJoinTree.edges.filter(edge => edge.origin !== edge.dest).map(edge => {\n    return {\n      weight: edge.views.length, \n      views: edge.views,\n      source: edge.origin,\n      target: edge.dest,\n    }\n  }),\n  groupNodes: mockJoinTree.groups.map(group => {\n    return {id: group.name, views: group.views}\n  }),\n  groupEdges: mockJoinTree.groupEdges.map(groupEdge => {\n    return {\n      weight: 1, \n      views: groupEdge.views,\n      source: groupEdge.origin,\n      target: groupEdge.dest,\n    }\n  }),\n  views: mockJoinTree.views.map(view => {\n    return {\n      name: view.name,\n      title: `View ${view.name}`,\n      expand: true,\n      children: [\n        {\n          title: `Group By Variables`,\n          expand: false,\n          children: view.groupby.map(v => {\n            return {title: v}\n          })\n        },\n        {\n          title: `Aggregates`,\n          expand: false,\n          children: view.aggregates.map(agg => {\n            return {title: `SUM(${agg})`}\n          })\n        }\n      ]\n    }\n  }),\n  queries: mockJoinTree.queries.map(query => {\n    return {\n      ...query,\n      title: `${query.name}`,\n      expand: false,\n      contextmenu: true,\n      children: [\n        {\n          title: `Group By Variables`,\n          expand: false,\n          children: query.groupby.map(v => {\n            return {title: v}\n          })\n        },\n        {\n          title: `Aggregates`,\n          expand: false,\n          children: query.aggregates.map(agg => {\n            return {title: agg}\n          })\n        }\n      ]\n    }\n  })\n}\n\nexport {\n  joinTreeD3\n}\n\n\n\n// \"relations\": [\n// \t{\"name\" : \"Inventory\"},\n// \t{\"name\" : \"Stores\"},\n// \t{\"name\" : \"Weather\"},\n// \t{\"name\" : \"Items\"}\n// ],\n// \"edges\": [\n// \t{\n// \t\"origin\" : \"Stores\", \n// \t\"dest\" : \"Inventory\",\n// \t\"views\" : [\"V1\", \"V2\"] \n// \t},\n// \t{\n// \t\"origin\" : \"Weather\", \n// \t\"dest\" : \"Inventory\",\n// \t\"views\" : [\"V3\", \"V4\", \"V5\"] \n// \t},","import * as d3 from \"d3v4\"\n\nconst LINK_WIDTH = 20;\nconst NODE_RADIUS = 30;\n\nexport default function showJoinTree(originGraph, id, clickLinkCallBack, clickNodeCallBack) {\n\n  const graph = JSON.parse(JSON.stringify(originGraph)) // deep copy\n\n  // compute the clt \n  let width = document.getElementById(id).getBoundingClientRect().width - 22\n  let height = (window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight) - 300\n\n  // height /= 2\n\n  d3.select(`#${id}`).select('svg').remove()\n\n\n\n  var root = d3.select(`#${id}`)\n    .append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n\n\n\n  var svg = root.append('g')\n\n  // enable pan and zoom\n  // enablePanAndZoom(\"chow_liu_tree_svg\")\n  root.call(d3.zoom()\n    .extent([\n      [0, 0],\n      [width, height]\n    ])\n    .scaleExtent([0.2, 8])\n    .on(\"zoom\", zoomed));\n\n  function zoomed() {\n    svg.attr(\"transform\", d3.event.transform);\n  }\n\n  // build the arrow.\n  svg.append(\"svg:defs\").selectAll(\"marker\")\n    .data([\"end\"]) // Different link/path types can be defined here\n    .enter().append(\"svg:marker\") // This section adds in the arrows\n    .attr(\"id\", String)\n    .attr(\"viewBox\", \"0 0 10 10\")\n    .attr(\"refX\", \"10\")\n    .attr(\"refY\", \"5\")\n    .attr(\"markerUnits\", \"strokeWidth\")\n    .attr(\"markerWidth\", \"10\")\n    .attr(\"markerHeight\", \"5\")\n    .attr(\"orient\", \"auto\")\n    .append(\"svg:path\")\n    .attr(\"d\", \"M 0 0 L 10 5 L 0 10 z\")\n    .attr(\"fill\", \"#000\");\n\n\n  var color = d3.scaleOrdinal(d3.schemeCategory20);\n\n  var simulation = d3.forceSimulation()\n    .force(\"link\", d3.forceLink().id(function (d) {\n      return d.id;\n    }))\n    .force(\"charge\", d3.forceManyBody().strength(-10000))\n    .force(\"center\", d3.forceCenter(width / 2, height / 2));\n\n  prepareLinks()\n\n  var link = svg.append(\"g\")\n    .attr(\"class\", \"links\")\n    .selectAll(\"line\")\n    .data(graph.links)\n    .enter().append(\"line\")\n    .attr(\"stroke-width\", function (d) {\n      return d.weight;\n    })\n    .attr(\"marker-end\", \"url(#end)\")\n    .on(\"click\", function(d) {\n      // console.log(d.source.id, d.target.id)\n      clickLinkCallBack(d.source.id, d.target.id)\n    })\n\n\n\n  var node = svg.append(\"g\")\n    .attr(\"class\", \"nodes\")\n    .selectAll(\"g\")\n    .data(graph.nodes)\n    .enter().append(\"g\")\n    \n\n  var circles = node.append(\"circle\")\n    .attr(\"r\", function (d) {\n      return 30\n    })\n    .style(\"stroke\", \"red\") // set the line colour\n    .style(\"fill\", \"white\")\n    .call(d3.drag()\n      .on(\"start\", dragstarted)\n      .on(\"drag\", dragged)\n      .on(\"end\", dragended))\n    .on(\"click\", function(d) {\n        // console.log(d.id)\n        clickNodeCallBack(d.id)\n      })\n\n  node.append('text')\n    .attr('text-anchor', 'middle')\n    .attr('alignment-baseline', 'middle')\n    .style('font-size', d => d.radius * 0.4 + 'px')\n    .text(d => d.id)\n\n  node.append(\"title\")\n    .text(function (d) {\n      return d.id;\n    });\n\n  simulation\n    .nodes(graph.nodes)\n    .on(\"tick\", ticked);\n\n  simulation.force(\"link\")\n    .links(graph.links);\n\n\n  // the functions for computing the point that a link intersects the circle it points to\n  \n  var lineX2 = function (d) {\n      var length = Math.sqrt(Math.pow(d.target.y - d.source.y, 2) + Math.pow(d.target.x - d.source.x, 2));\n      var scale = (length - NODE_RADIUS) / length;\n      var offset = (d.target.x - d.source.x) - (d.target.x - d.source.x) * scale;\n      return d.target.x - offset;\n  };\n  var lineY2 = function (d) {\n      var length = Math.sqrt(Math.pow(d.target.y - d.source.y, 2) + Math.pow(d.target.x - d.source.x, 2));\n      var scale = (length - NODE_RADIUS) / length;\n      var offset = (d.target.y - d.source.y) - (d.target.y - d.source.y) * scale;\n      return d.target.y - offset;\n  };\n\n  // \n  function ticked() {\n\n    link\n      .attr(\"x1\", function (d) {\n        return d.source.x;\n      })\n      .attr(\"y1\", function (d) {\n        return d.source.y;\n      })\n      .attr(\"x2\", lineX2)\n      .attr(\"y2\", lineY2)\n      .attr('transform', function (d) {\n        \n        // add shifts to the parallel lines\n        var rightwardSign = d.target.x > d.source.x ? 1 : -1;\n        var translation = calcTranslationExact(rightwardSign * 4, d.source, d.target);\n        return `translate (${translation.dx}, ${translation.dy})`;\n      })\n\n    node\n      .attr(\"transform\", function (d) {\n        return \"translate(\" + d.x + \",\" + d.y + \")\";\n      })\n  }\n\n  function calcTranslationExact(targetDistance, point0, point1) {\n    var x1_x0 = point1.x - point0.x,\n      y1_y0 = point1.y - point0.y,\n      x2_x0, y2_y0;\n    if (y1_y0 === 0) {\n      x2_x0 = 0;\n      y2_y0 = targetDistance;\n    } else {\n      var angle = Math.atan((x1_x0) / (y1_y0));\n      x2_x0 = -targetDistance * Math.cos(angle);\n      y2_y0 = targetDistance * Math.sin(angle);\n    }\n    return {\n      dx: x2_x0,\n      dy: y2_y0\n    };\n  }\n\n  function prepareLinks() {\n    var linksFromNodes = {};\n    graph.links.forEach(function (val, idx) {\n      var sid = val.source,\n        tid = val.targetID,\n        key = (sid < tid ? sid + \",\" + tid : tid + \",\" + sid);\n      if (linksFromNodes[key] === undefined) {\n        linksFromNodes[key] = [idx];\n        val.multiIdx = 1;\n      } else {\n        val.multiIdx = linksFromNodes[key].push(idx);\n      }\n      // Calculate target link distance, from the index in the multiple-links array:\n      // 1 -> 0, 2 -> 2, 3-> -2, 4 -> 4, 5 -> -4, ...\n      val.targetDistance = (val.multiIdx % 2 === 0 ? val.multiIdx * LINK_WIDTH : (-val.multiIdx + 1) * LINK_WIDTH);\n    });\n  }\n\n  function dragstarted(d) {\n    if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n    d.fx = d.x;\n    d.fy = d.y;\n  }\n\n  function dragged(d) {\n    d.fx = d3.event.x;\n    d.fy = d3.event.y;\n  }\n\n  function dragended(d) {\n    if (!d3.event.active) simulation.alphaTarget(0);\n    d.fx = null;\n    d.fy = null;\n  }\n\n  return\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Watch, Vue } from \"vue-property-decorator\";\n\n// import data\nimport { joinTreeD3 } from \"../data/joinTree\";\n\n// import the visualization function -- d3\nimport showJoinTree from \"../util/d3/showJoinTree\";\n\nconst _ = require(\"lodash\");\n\nconst dumbEdge = {\n  source: \"\",\n  target: \"\",\n  views: [],\n};\n\n@Component({})\nexport default class Dataset extends Vue {\n  // data\n  selectedRelation: string = \"\";\n  selectedEdge: { source: string; target: string; views: string[] } = dumbEdge;\n  joinTreeD3 = joinTreeD3;\n  contextData: any = {};\n\n  mounted() {\n    this.renderD3();\n  }\n\n  get intermediateViews() {\n    return this.selectedEdge.views.map((view) => {\n      return this.joinTreeD3.views.find((v) => v.name == view);\n    });\n  }\n\n  get outputQueries() {\n    return _.groupBy(joinTreeD3.queries, \"root\");\n  }\n\n  // http://localhost:8081/regen/[0,1,2,1,3,4,4,3]\n  regenerateViews() {\n    const rootIndicators = this.joinTreeD3.queries.map((query) => {\n      const root = query.root;\n      const idx = this.joinTreeD3.relations.findIndex((r) => r.name == root);\n      return idx === -1 ? -1 : this.joinTreeD3.relations[idx].id;\n    });\n\n    console.log(\n      `Sending request http://localhost:8081/regen/${rootIndicators}`\n    );\n\n    this.$store.dispatch(\"regenerateViews\", {\n      rootIndicators,\n      onSuccess: function () {\n        // on success\n        console.log(\"request sent\");\n      },\n    });\n  }\n\n  relationClicked(relationId: string) {\n    console.log({ relationId });\n    this.selectedRelation = relationId;\n  }\n\n  transitionClicked(source: string, target: string) {\n    this.selectedEdge =\n      joinTreeD3.links.find(\n        (edge) => edge.source == source && edge.target == target\n      ) || dumbEdge;\n    console.log(this.selectedEdge);\n  }\n\n  handleContextMenu(data: any) {\n    this.contextData = data;\n  }\n\n  changeRoot(root: string) {\n    const changedQuery = this.contextData;\n    console.log(root);\n\n    joinTreeD3.queries = joinTreeD3.queries.map((query) => {\n      if (query.name === changedQuery.name) {\n        return {\n          ...changedQuery,\n          root,\n        };\n      } else {\n        return query;\n      }\n    });\n\n    // console.log(joinTreeD3)\n  }\n\n  groupViews() {\n    this.$store.commit(\"SET_TAB\", \"viewGroups\");\n  }\n\n  renderD3() {\n    showJoinTree(\n      joinTreeD3,\n      \"joinTree\",\n      this.transitionClicked,\n      this.relationClicked\n    );\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGeneration.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGeneration.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ViewGeneration.vue?vue&type=template&id=96290ac4&\"\nimport script from \"./ViewGeneration.vue?vue&type=script&lang=ts&\"\nexport * from \"./ViewGeneration.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ViewGeneration.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',[_c('h4',[_vm._v(\"Dependency Graph\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\"},attrs:{\"id\":\"dependencyGraph\"}})]),_c('br'),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"24\"}},[_c('h4',[_vm._v(\"View Group\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\",\"padding\":\"5px\"}},[(_vm.selectedGroup.group)?_c('div',[_c('h5',[_vm._v(_vm._s(_vm.selectedGroup.group))]),_c('hr',{staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}}),_c('Tree',{attrs:{\"data\":_vm.intermediateViews}})],1):_c('div',[_vm._v(\"Click the groups to inspect the intermediate views\")])])])],1),_c('br'),_c('Row',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"12\"}}),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.generateCode}},[_vm._v(\"Generate Code\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as d3 from \"d3v4\"\n\nconst LINK_WIDTH = 20;\nconst NODE_RADIUS = 30;\n\nexport default function showDependencyGraph(originGraph, id, clickLinkCallBack, clickNodeCallBack) {\n\n  const graph = JSON.parse(JSON.stringify(originGraph)) // deep copy\n\n  // compute the clt \n  let width = document.getElementById(id).getBoundingClientRect().width - 22\n  let height = (window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight) - 300\n\n  // height /= 2\n\n  d3.select(`#${id}`).select('svg').remove()\n\n\n\n  var root = d3.select(`#${id}`)\n    .append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n\n\n\n  var svg = root.append('g')\n\n  // enable pan and zoom\n  // enablePanAndZoom(\"chow_liu_tree_svg\")\n  root.call(d3.zoom()\n    .extent([\n      [0, 0],\n      [width, height]\n    ])\n    .scaleExtent([0.2, 8])\n    .on(\"zoom\", zoomed));\n\n  function zoomed() {\n    svg.attr(\"transform\", d3.event.transform);\n  }\n\n  // build the arrow.\n  svg.append(\"svg:defs\").selectAll(\"marker\")\n    .data([\"end\"]) // Different link/path types can be defined here\n    .enter().append(\"svg:marker\") // This section adds in the arrows\n    .attr(\"id\", String)\n    .attr(\"viewBox\", \"0 0 10 10\")\n    .attr(\"refX\", \"10\")\n    .attr(\"refY\", \"5\")\n    .attr(\"markerUnits\", \"strokeWidth\")\n    .attr(\"markerWidth\", \"10\")\n    .attr(\"markerHeight\", \"5\")\n    .attr(\"orient\", \"auto\")\n    .append(\"svg:path\")\n    .attr(\"d\", \"M 0 0 L 10 5 L 0 10 z\")\n    .attr(\"fill\", \"#000\");\n\n\n  var color = d3.scaleOrdinal(d3.schemeCategory20);\n\n  var simulation = d3.forceSimulation()\n    .force(\"link\", d3.forceLink().id(function (d) {\n      return d.id;\n    }))\n    .force(\"charge\", d3.forceManyBody().strength(-10000))\n    .force(\"center\", d3.forceCenter(width / 2, height / 2));\n\n  prepareLinks()\n\n  var link = svg.append(\"g\")\n    .attr(\"class\", \"links\")\n    .selectAll(\"line\")\n    .data(graph.groupEdges)\n    .enter().append(\"line\")\n    .attr(\"stroke-width\", function (d) {\n      return d.weight;\n    })\n    .attr(\"marker-end\", \"url(#end)\")\n    .on(\"click\", function(d) {\n      // console.log(d.source.id, d.target.id)\n      clickLinkCallBack(d.source.id, d.target.id)\n    })\n\n\n\n  var node = svg.append(\"g\")\n    .attr(\"class\", \"nodes\")\n    .selectAll(\"g\")\n    .data(graph.groupNodes)\n    .enter().append(\"g\")\n    \n\n  var circles = node.append(\"circle\")\n    .attr(\"r\", function (d) {\n      return 30\n    })\n    .style(\"stroke\", \"red\") // set the line colour\n    .style(\"fill\", \"white\")\n    .call(d3.drag()\n      .on(\"start\", dragstarted)\n      .on(\"drag\", dragged)\n      .on(\"end\", dragended))\n    .on(\"click\", function(d) {\n        // console.log(d.id)\n        clickNodeCallBack(d.id, d.views)\n      })\n\n  node.append('text')\n    .attr('text-anchor', 'middle')\n    .attr('alignment-baseline', 'middle')\n    .style('font-size', d => d.radius * 0.4 + 'px')\n    .text(d => d.id)\n\n  node.append(\"title\")\n    .text(function (d) {\n      return d.id;\n    });\n\n  simulation\n    .nodes(graph.groupNodes)\n    .on(\"tick\", ticked);\n\n  simulation.force(\"link\")\n    .links(graph.groupEdges);\n\n\n  // the functions for computing the point that a link intersects the circle it points to\n  \n  var lineX2 = function (d) {\n      var length = Math.sqrt(Math.pow(d.target.y - d.source.y, 2) + Math.pow(d.target.x - d.source.x, 2));\n      var scale = (length - NODE_RADIUS) / length;\n      var offset = (d.target.x - d.source.x) - (d.target.x - d.source.x) * scale;\n      return d.target.x - offset;\n  };\n  var lineY2 = function (d) {\n      var length = Math.sqrt(Math.pow(d.target.y - d.source.y, 2) + Math.pow(d.target.x - d.source.x, 2));\n      var scale = (length - NODE_RADIUS) / length;\n      var offset = (d.target.y - d.source.y) - (d.target.y - d.source.y) * scale;\n      return d.target.y - offset;\n  };\n\n  // \n  function ticked() {\n\n    link\n      .attr(\"x1\", function (d) {\n        return d.source.x;\n      })\n      .attr(\"y1\", function (d) {\n        return d.source.y;\n      })\n      .attr(\"x2\", lineX2)\n      .attr(\"y2\", lineY2)\n      .attr('transform', function (d) {\n        \n        // add shifts to the parallel lines\n        var rightwardSign = d.target.x > d.source.x ? 1 : -1;\n        var translation = calcTranslationExact(rightwardSign * 4, d.source, d.target);\n        return `translate (${translation.dx}, ${translation.dy})`;\n      })\n\n    node\n      .attr(\"transform\", function (d) {\n        return \"translate(\" + d.x + \",\" + d.y + \")\";\n      })\n  }\n\n  function calcTranslationExact(targetDistance, point0, point1) {\n    var x1_x0 = point1.x - point0.x,\n      y1_y0 = point1.y - point0.y,\n      x2_x0, y2_y0;\n    if (y1_y0 === 0) {\n      x2_x0 = 0;\n      y2_y0 = targetDistance;\n    } else {\n      var angle = Math.atan((x1_x0) / (y1_y0));\n      x2_x0 = -targetDistance * Math.cos(angle);\n      y2_y0 = targetDistance * Math.sin(angle);\n    }\n    return {\n      dx: x2_x0,\n      dy: y2_y0\n    };\n  }\n\n  function prepareLinks() {\n    var linksFromNodes = {};\n    graph.groupEdges.forEach(function (val, idx) {\n      var sid = val.source,\n        tid = val.targetID,\n        key = (sid < tid ? sid + \",\" + tid : tid + \",\" + sid);\n      if (linksFromNodes[key] === undefined) {\n        linksFromNodes[key] = [idx];\n        val.multiIdx = 1;\n      } else {\n        val.multiIdx = linksFromNodes[key].push(idx);\n      }\n      // Calculate target link distance, from the index in the multiple-links array:\n      // 1 -> 0, 2 -> 2, 3-> -2, 4 -> 4, 5 -> -4, ...\n      val.targetDistance = (val.multiIdx % 2 === 0 ? val.multiIdx * LINK_WIDTH : (-val.multiIdx + 1) * LINK_WIDTH);\n    });\n  }\n\n  function dragstarted(d) {\n    if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n    d.fx = d.x;\n    d.fy = d.y;\n  }\n\n  function dragged(d) {\n    d.fx = d3.event.x;\n    d.fy = d3.event.y;\n  }\n\n  function dragended(d) {\n    if (!d3.event.active) simulation.alphaTarget(0);\n    d.fx = null;\n    d.fy = null;\n  }\n\n  return\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Watch, Vue } from \"vue-property-decorator\";\r\n\r\n// import data\r\nimport { joinTreeD3 } from \"../data/joinTree\";\r\n\r\n// import the visualization function -- d3\r\nimport showJoinTree from \"../util/d3/showJoinTree\";\r\nimport showDependencyGraph from \"../util/d3/showDependencyGraph\";\r\n\r\nconst _ = require(\"lodash\");\r\n\r\nconst dumbEdge = {\r\n  source: \"\",\r\n  target: \"\",\r\n  views: [],\r\n};\r\n\r\n@Component({})\r\nexport default class Dataset extends Vue {\r\n  // data\r\n  selectedGroup: any = {\r\n    group: \"\",\r\n    views: []\r\n  }\r\n  selectedEdge: { source: string; target: string; views: string[] } = dumbEdge;\r\n  joinTreeD3 = joinTreeD3;\r\n  contextData: any = {};\r\n\r\n  mounted() {\r\n    this.renderD3();\r\n  }\r\n\r\n  get intermediateViews() {\r\n    return this.selectedGroup.views.map((view: string) => {\r\n      return this.joinTreeD3.views.find((v) => v.name == view);\r\n    });\r\n  }\r\n\r\n  get outputQueries() {\r\n    return _.groupBy(joinTreeD3.queries, \"root\");\r\n  }\r\n\r\n  // http://localhost:8081/regen/[0,1,2,1,3,4,4,3]\r\n  regenerateViews() {\r\n    const rootIndicators = this.joinTreeD3.queries.map((query) => {\r\n      const root = query.root;\r\n      const idx = this.joinTreeD3.relations.findIndex((r) => r.name == root);\r\n      return idx === -1 ? -1 : this.joinTreeD3.relations[idx].id;\r\n    });\r\n\r\n    console.log(\r\n      `Sending request http://localhost:8081/regen/${rootIndicators}`\r\n    );\r\n\r\n    this.$store.dispatch(\"regenerateViews\", {\r\n      rootIndicators,\r\n      onSuccess: function () {\r\n        // on success\r\n        console.log(\"request sent\");\r\n      },\r\n    });\r\n  }\r\n\r\n  relationClicked(group: string, views: any[]) {\r\n    console.log({ group, views }, 'clicked');\r\n    this.selectedGroup = {\r\n      group,\r\n      views,\r\n    }\r\n  }\r\n\r\n  transitionClicked(source: string, target: string) {\r\n    this.selectedEdge =\r\n      joinTreeD3.links.find(\r\n        (edge) => edge.source == source && edge.target == target\r\n      ) || dumbEdge;\r\n    console.log(this.selectedEdge);\r\n  }\r\n\r\n  handleContextMenu(data: any) {\r\n    this.contextData = data;\r\n  }\r\n\r\n  generateCode() {\r\n    this.$store.commit(\"SET_TAB\", \"generateCode\");\r\n  }\r\n\r\n  renderD3() {\r\n    showDependencyGraph(\r\n      joinTreeD3,\r\n      \"dependencyGraph\",\r\n      this.transitionClicked,\r\n      this.relationClicked\r\n    );\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGroups.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGroups.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ViewGroups.vue?vue&type=template&id=217cdd2d&\"\nimport script from \"./ViewGroups.vue?vue&type=script&lang=ts&\"\nexport * from \"./ViewGroups.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ViewGroups.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',[_c('h4',[_vm._v(\"Join Tree\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\"},attrs:{\"id\":\"joinTree\"}})]),_c('br'),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"12\"}},[_c('h4',[_vm._v(\"Output Queries\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\",\"padding\":\"5px\"}},[_c('p',[_vm._v(\"Right-click the queries to change their root\")]),_vm._l((_vm.joinTreeD3.relations),function(relation){return _c('div',{key:relation.id,staticStyle:{\"margin-top\":\"5px\"}},[_c('h5',[_vm._v(_vm._s(relation.name))]),_c('hr',{staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}}),_c('Tree',{attrs:{\"data\":_vm.outputQueries[relation.name]},on:{\"on-contextmenu\":_vm.handleContextMenu}},[_c('template',{slot:\"contextMenu\"},_vm._l((_vm.joinTreeD3.relations),function(relation){return _c('DropdownItem',{key:relation.id,nativeOn:{\"click\":function($event){return _vm.changeRoot(relation.name)}}},[_vm._v(_vm._s(relation.name))])}),1)],2)],1)})],2)]),_c('Col',{attrs:{\"span\":\"12\"}},[_c('h4',[_vm._v(\"Intermediate Views\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\",\"padding\":\"5px\"}},[(_vm.selectedEdge.source)?_c('div',[_c('h5',[_vm._v(_vm._s(_vm.selectedEdge.source)+\" to \"+_vm._s(_vm.selectedEdge.target))]),_c('hr',{staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}}),_c('Tree',{attrs:{\"data\":_vm.intermediateViews}})],1):_c('div',[_vm._v(\"Click the arrows to inspect the intermediate views\")])])])],1),_c('br'),_c('Row',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.regenerateViews}},[_vm._v(\"Regenerate Views\")])],1),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.groupViews}},[_vm._v(\"Group Views\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Watch, Vue } from \"vue-property-decorator\";\r\n\r\n// import data\r\nimport { joinTreeD3 } from \"../data/joinTree\";\r\n\r\n// import the visualization function -- d3\r\nimport showJoinTree from \"../util/d3/showJoinTree\";\r\n\r\nconst _ = require(\"lodash\");\r\n\r\nconst dumbEdge = {\r\n  source: \"\",\r\n  target: \"\",\r\n  views: [],\r\n};\r\n\r\n@Component({})\r\nexport default class Dataset extends Vue {\r\n  // data\r\n  selectedRelation: string = \"\";\r\n  selectedEdge: { source: string; target: string; views: string[] } = dumbEdge;\r\n  joinTreeD3 = joinTreeD3;\r\n  contextData: any = {};\r\n\r\n  mounted() {\r\n    this.renderD3();\r\n  }\r\n\r\n  get intermediateViews() {\r\n    return this.selectedEdge.views.map((view) => {\r\n      return this.joinTreeD3.views.find((v) => v.name == view);\r\n    });\r\n  }\r\n\r\n  get outputQueries() {\r\n    return _.groupBy(joinTreeD3.queries, \"root\");\r\n  }\r\n\r\n  // http://localhost:8081/regen/[0,1,2,1,3,4,4,3]\r\n  regenerateViews() {\r\n    const rootIndicators = this.joinTreeD3.queries.map((query) => {\r\n      const root = query.root;\r\n      const idx = this.joinTreeD3.relations.findIndex((r) => r.name == root);\r\n      return idx === -1 ? -1 : this.joinTreeD3.relations[idx].id;\r\n    });\r\n\r\n    console.log(\r\n      `Sending request http://localhost:8081/regen/${rootIndicators}`\r\n    );\r\n\r\n    this.$store.dispatch(\"regenerateViews\", {\r\n      rootIndicators,\r\n      onSuccess: function () {\r\n        // on success\r\n        console.log(\"request sent\");\r\n      },\r\n    });\r\n  }\r\n\r\n  relationClicked(relationId: string) {\r\n    console.log({ relationId });\r\n    this.selectedRelation = relationId;\r\n  }\r\n\r\n  transitionClicked(source: string, target: string) {\r\n    this.selectedEdge =\r\n      joinTreeD3.links.find(\r\n        (edge) => edge.source == source && edge.target == target\r\n      ) || dumbEdge;\r\n    console.log(this.selectedEdge);\r\n  }\r\n\r\n  handleContextMenu(data: any) {\r\n    this.contextData = data;\r\n  }\r\n\r\n  changeRoot(root: string) {\r\n    const changedQuery = this.contextData;\r\n    console.log(root);\r\n\r\n    joinTreeD3.queries = joinTreeD3.queries.map((query) => {\r\n      if (query.name === changedQuery.name) {\r\n        return {\r\n          ...changedQuery,\r\n          root,\r\n        };\r\n      } else {\r\n        return query;\r\n      }\r\n    });\r\n\r\n    // console.log(joinTreeD3)\r\n  }\r\n\r\n  groupViews() {\r\n    this.$store.commit(\"SET_TAB\", \"viewGroups\");\r\n  }\r\n\r\n  renderD3() {\r\n    showJoinTree(\r\n      joinTreeD3,\r\n      \"joinTree\",\r\n      this.transitionClicked,\r\n      this.relationClicked\r\n    );\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeGeneration.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeGeneration.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CodeGeneration.vue?vue&type=template&id=8668635c&\"\nimport script from \"./CodeGeneration.vue?vue&type=script&lang=ts&\"\nexport * from \"./CodeGeneration.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CodeGeneration.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',[_c('h4',[_vm._v(\"Join Tree\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\"},attrs:{\"id\":\"joinTree\"}})]),_c('br'),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"12\"}},[_c('h4',[_vm._v(\"Output Queries\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\",\"padding\":\"5px\"}},[_c('p',[_vm._v(\"Right-click the queries to change their root\")]),_vm._l((_vm.joinTreeD3.relations),function(relation){return _c('div',{key:relation.id,staticStyle:{\"margin-top\":\"5px\"}},[_c('h5',[_vm._v(_vm._s(relation.name))]),_c('hr',{staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}}),_c('Tree',{attrs:{\"data\":_vm.outputQueries[relation.name]},on:{\"on-contextmenu\":_vm.handleContextMenu}},[_c('template',{slot:\"contextMenu\"},_vm._l((_vm.joinTreeD3.relations),function(relation){return _c('DropdownItem',{key:relation.id,nativeOn:{\"click\":function($event){return _vm.changeRoot(relation.name)}}},[_vm._v(_vm._s(relation.name))])}),1)],2)],1)})],2)]),_c('Col',{attrs:{\"span\":\"12\"}},[_c('h4',[_vm._v(\"Intermediate Views\")]),_c('div',{staticStyle:{\"border\":\"1px solid gray\",\"padding\":\"5px\"}},[(_vm.selectedEdge.source)?_c('div',[_c('h5',[_vm._v(_vm._s(_vm.selectedEdge.source)+\" to \"+_vm._s(_vm.selectedEdge.target))]),_c('hr',{staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}}),_c('Tree',{attrs:{\"data\":_vm.intermediateViews}})],1):_c('div',[_vm._v(\"Click the arrows to inspect the intermediate views\")])])])],1),_c('br'),_c('Row',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.regenerateViews}},[_vm._v(\"Regenerate Views\")])],1),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.groupViews}},[_vm._v(\"Group Views\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Watch, Vue } from \"vue-property-decorator\";\r\n\r\n// import data\r\nimport { joinTreeD3 } from \"../data/joinTree\";\r\n\r\n// import the visualization function -- d3\r\nimport showJoinTree from \"../util/d3/showJoinTree\";\r\n\r\nconst _ = require(\"lodash\");\r\n\r\nconst dumbEdge = {\r\n  source: \"\",\r\n  target: \"\",\r\n  views: [],\r\n};\r\n\r\n@Component({})\r\nexport default class Dataset extends Vue {\r\n  // data\r\n  selectedRelation: string = \"\";\r\n  selectedEdge: { source: string; target: string; views: string[] } = dumbEdge;\r\n  joinTreeD3 = joinTreeD3;\r\n  contextData: any = {};\r\n\r\n  mounted() {\r\n    this.renderD3();\r\n  }\r\n\r\n  get intermediateViews() {\r\n    return this.selectedEdge.views.map((view) => {\r\n      return this.joinTreeD3.views.find((v) => v.name == view);\r\n    });\r\n  }\r\n\r\n  get outputQueries() {\r\n    return _.groupBy(joinTreeD3.queries, \"root\");\r\n  }\r\n\r\n  // http://localhost:8081/regen/[0,1,2,1,3,4,4,3]\r\n  regenerateViews() {\r\n    const rootIndicators = this.joinTreeD3.queries.map((query) => {\r\n      const root = query.root;\r\n      const idx = this.joinTreeD3.relations.findIndex((r) => r.name == root);\r\n      return idx === -1 ? -1 : this.joinTreeD3.relations[idx].id;\r\n    });\r\n\r\n    console.log(\r\n      `Sending request http://localhost:8081/regen/${rootIndicators}`\r\n    );\r\n\r\n    this.$store.dispatch(\"regenerateViews\", {\r\n      rootIndicators,\r\n      onSuccess: function () {\r\n        // on success\r\n        console.log(\"request sent\");\r\n      },\r\n    });\r\n  }\r\n\r\n  relationClicked(relationId: string) {\r\n    console.log({ relationId });\r\n    this.selectedRelation = relationId;\r\n  }\r\n\r\n  transitionClicked(source: string, target: string) {\r\n    this.selectedEdge =\r\n      joinTreeD3.links.find(\r\n        (edge) => edge.source == source && edge.target == target\r\n      ) || dumbEdge;\r\n    console.log(this.selectedEdge);\r\n  }\r\n\r\n  handleContextMenu(data: any) {\r\n    this.contextData = data;\r\n  }\r\n\r\n  changeRoot(root: string) {\r\n    const changedQuery = this.contextData;\r\n    console.log(root);\r\n\r\n    joinTreeD3.queries = joinTreeD3.queries.map((query) => {\r\n      if (query.name === changedQuery.name) {\r\n        return {\r\n          ...changedQuery,\r\n          root,\r\n        };\r\n      } else {\r\n        return query;\r\n      }\r\n    });\r\n\r\n    // console.log(joinTreeD3)\r\n  }\r\n\r\n  groupViews() {\r\n    this.$store.commit(\"SET_TAB\", \"viewGroups\");\r\n  }\r\n\r\n  renderD3() {\r\n    showJoinTree(\r\n      joinTreeD3,\r\n      \"joinTree\",\r\n      this.transitionClicked,\r\n      this.relationClicked\r\n    );\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Application.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Application.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Application.vue?vue&type=template&id=30ef59f7&\"\nimport script from \"./Application.vue?vue&type=script&lang=ts&\"\nexport * from \"./Application.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Application.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div style=\"margin-top: 00px\" class=\"container-fluid\">\n    <Tabs @on-click=\"handleClick\" style=\"margin-bottom: 0;\">\n      <TabPane label=\"Input\" name=\"dataset\"></TabPane>\n      <TabPane label=\"View Generation\" name=\"viewGeneration\"></TabPane>\n      <TabPane label=\"View Groups\" name=\"viewGroups\"></TabPane>\n      <TabPane label=\"Code Generation\" name=\"codeGeneration\"></TabPane>\n      <TabPane label=\"Application\" name=\"application\"></TabPane>\n    </Tabs>\n    <br />\n\n    <ViewGeneration ref=\"viewGeneration\" v-if=\"tab == 'viewGeneration'\"></ViewGeneration>\n    <Dataset ref=\"dataset\" v-else-if=\"tab == 'dataset'\"></Dataset>\n    <ViewGroups ref=\"viewGroups\" v-else-if=\"tab == 'viewGroups'\"></ViewGroups>\n    <CodeGeneration ref=\"codeGeneration\" v-else-if=\"tab == 'codeGeneration'\"></CodeGeneration>\n    <Application ref=\"application\" v-else-if=\"tab == 'application'\"></Application>\n\n  </div>\n</template>\n\n<script>\nimport Dataset from \"../components/Dataset.vue\";\nimport ViewGeneration from \"../components/ViewGeneration\";\nimport ViewGroups from \"../components/ViewGroups\";\nimport CodeGeneration from \"../components/CodeGeneration\";\nimport Application from \"../components/Application\";\n\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      // tab: \"dataset\"\n      interval: null,\n      processingStatus: \"pause\",\n      previousCount: 0\n    };\n  },\n  components: {\n    Dataset,\n    ViewGeneration,\n    ViewGroups,\n    CodeGeneration,\n    Application,\n  },\n  mounted: function() {\n\n  },\n  methods: {\n    handleClick(newTab) {\n      this.$store.commit(\"SET_TAB\", newTab);\n    },\n  },\n  computed: {\n    tab: function() {\n      return this.$store.state.tab;\n    },\n  }\n};\n</script>\n<style scoped>\n.top {\n  padding: 10px;\n  background: rgba(0, 153, 229, 0.7);\n  color: #fff;\n  text-align: center;\n  border-radius: 2px;\n}\n</style>\n\n<style>\n.ivu-tabs-bar {\n  /* border-bottom: 1px solid #dcdee2; */\n  margin-bottom: 0px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=a37dffdc&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=a37dffdc&scoped=true&lang=css&\"\nimport style1 from \"./Home.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a37dffdc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\",staticStyle:{\"margin-top\":\"00px\"}},[_c('Tabs',{staticStyle:{\"margin-bottom\":\"0\"}},[_c('TabPane',{attrs:{\"label\":\"Input\"}}),_c('TabPane',{attrs:{\"label\":\"Model Selection\"}}),_c('TabPane',{attrs:{\"label\":\"Regression\"}}),_c('TabPane',{attrs:{\"label\":\"Chow-Liu Tree\"}}),_c('TabPane',{attrs:{\"label\":\"Maintenance Strategy\"}})],1),_c('Form',{staticStyle:{\"width\":\"205px\"},attrs:{\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"Threshold\"}},[_c('Input',{attrs:{\"placeholder\":\"Enter something...\"}})],1),_c('FormItem',{attrs:{\"label\":\"Label\"}},[_c('Select',{attrs:{\"placeholder\":\"\",\"placement\":\"bottom-end\"}},_vm._l((_vm.attrs),function(a){return _c('Option',{key:a,attrs:{\"value\":a}},[_vm._v(_vm._s(a))])}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"margin-top: 00px\" class=\"container-fluid\">\n    <Tabs style=\"margin-bottom: 0;\">\n        <TabPane label=\"Input\"></TabPane>\n        <TabPane label=\"Model Selection\"></TabPane>\n        <TabPane label=\"Regression\"></TabPane>\n        <TabPane label=\"Chow-Liu Tree\"></TabPane>\n        <TabPane label=\"Maintenance Strategy\"></TabPane>\n    </Tabs>\n\n    <!-- <p>Chow-Liu Tree</p> -->\n    <Form style=\"width: 205px;\" :label-width=\"80\">\n        <FormItem label=\"Threshold\">\n            <Input placeholder=\"Enter something...\"></Input>\n        </FormItem>\n        <FormItem label=\"Label\">\n            <Select placeholder=\"\" placement=\"bottom-end\">\n                <Option :key=\"a\" v-for=\"a in attrs\" :value=\"a\">{{a}}</Option>\n            </Select>\n        </FormItem>\n    </Form>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'about',\n  components: {\n  },\n  computed: {\n    attrs: function() {\n      return [\"locn\",\"dateid\",\"ksn\",\"inventoryunits\",\"zip\",\"rgn_cd\",\"clim_zn_nbr\",\"tot_area_sq_ft\",\"sell_area_sq_ft\",\"avghhi\",\"supertargetdistance\",\"supertargetdrivetime\",\"targetdistance\",\"targetdrivetime\",\"walmartdistance\",\"walmartdrivetime\",\"walmartsupercenterdistance\",\"walmartsupercenterdrivetime\",\"population\",\"white\",\"asian\",\"pacific\",\"black\",\"medianage\",\"occupiedhouseunits\",\"houseunits\",\"families\",\"households\",\"husbwife\",\"males\",\"females\",\"householdschildren\",\"hispanic\",\"subcategory\",\"category\",\"categoryCluster\",\"price\",\"rain\",\"snow\",\"maxtemp\",\"mintemp\",\"meanwind\",\"thunder\"]\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=1e4c44fe&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport About from '../views/About.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: Home\n  },\n  {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: About\n  }\n]\n\nconst router = new VueRouter({\n  // mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import { RelationInfo, VariableInfo, Dataset } from \"../types/Query\"\n\nconst dataset: Dataset[] = [\n  {\n    name: \"4-path\",\n    category: \"acyclic\",\n    dataPrepared: false,\n    variableInfo: {\n      \"A\": {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      \"B\": {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      \"C\": {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      \"D\": {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      \"E\": {\n        isCategorical: true,\n        dataType: \"int\"\n      }\n    },\n    relations: [{\n      name: \"R\",\n      variables: [\"A\", \"B\"],\n    },\n    {\n      name: \"S\",\n      variables: [\"B\", \"C\"]\n    },\n    {\n      name: \"T\",\n      variables: [\"C\", \"D\"],\n    },\n    {\n      name: \"U\",\n      variables: [\"D\", \"E\"],\n    }\n    ]\n  },\n  {\n    name: \"5-path\",\n    category: \"acyclic\",\n    dataPrepared: false,\n    variableInfo: {\n      \"A\": {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      \"B\": {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      \"C\": {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      \"D\": {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      \"E\": {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      \"F\": {\n        isCategorical: true,\n        dataType: \"int\"\n      }\n    },\n    relations: [{\n      name: \"R\",\n      variables: [\"A\", \"B\"],\n    },\n    {\n      name: \"S\",\n      variables: [\"B\", \"C\"]\n    },\n    {\n      name: \"T\",\n      variables: [\"C\", \"D\"],\n    },\n    {\n      name: \"U\",\n      variables: [\"D\", \"E\"],\n    },\n    {\n      name: \"W\",\n      variables: [\"E\", \"F\"]\n    }\n    ]\n  },\n  {\n    name: \"Retailer\",\n    category: \"real-world\",\n    dataPrepared: false,\n    variableInfo: {\n      locn: {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      dateid: {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      ksn: {\n        isCategorical: true,\n        dataType: \"int\"\n      },\n      inventoryunits: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      zip: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      rgn_cd: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      clim_zn_nbr: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      tot_area_sq_ft: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      sell_area_sq_ft: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      avghhi: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      supertargetdistance: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n      supertargetdrivetime: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n      targetdistance: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n      targetdrivetime: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n      walmartdistance: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n      walmartdrivetime: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n      walmartsupercenterdistance: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n      walmartsupercenterdrivetime: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n      population: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      white: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      asian: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      pacific: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      blackafrican: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      medianage: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n      occupiedhouseunits: {\n        isCategorical: false,\n        dataType: \"int\"\n      }, \n      houseunits: {\n        isCategorical: false,\n        dataType: \"int\"\n      }, \n      families: {\n        isCategorical: false,\n        dataType: \"int\"\n      }, \n      households: {\n        isCategorical: false,\n        dataType: \"int\"\n      }, \n      husbwife: {\n        isCategorical: false,\n        dataType: \"int\"\n      }, \n      males: {\n        isCategorical: false,\n        dataType: \"int\"\n      }, \n      females: {\n        isCategorical: false,\n        dataType: \"int\"\n      }, \n      householdschildren: {\n        isCategorical: false,\n        dataType: \"int\"\n      }, \n      hispanic: {\n        isCategorical: false,\n        dataType: \"int\"\n      },\n      subcategory: {\n        isCategorical: true,\n        dataType: \"byte\"\n      }, \n      category: {\n        isCategorical: true,\n        dataType: \"byte\"\n      }, \n      categoryCluster: {\n        isCategorical: true,\n        dataType: \"byte\"\n      },\n      price: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n      rain: {\n        isCategorical: true,\n        dataType: \"byte\"\n      },\n      snow: {\n        isCategorical: true,\n        dataType: \"byte\"\n      },\n      thunder: {\n        isCategorical: true,\n        dataType: \"byte\"\n      },\n      maxtemp: {\n        isCategorical: false,\n        dataType: \"int\"\n      }, \n      mintemp: {\n        isCategorical: false,\n        dataType: \"int\"\n      }, \n      meanwind: {\n        isCategorical: false,\n        dataType: \"double\"\n      },\n    },\n    relations: [{\n      name: \"INVENTORY\",\n      variables: [\"locn\", \"dateid\", \"ksn\", \"inventoryunits\"],\n    },\n    {\n      name: \"LOCATION\",\n      variables: [\"locn\", \"zip\", \"rgn_cd\", \"clim_zn_nbr\", \"tot_area_sq_ft\", \"sell_area_sq_ft\", \"avghhi\", \"supertargetdistance\", \"supertargetdrivetime\", \"targetdistance\", \"targetdrivetime\", \"walmartdistance\", \"walmartdrivetime\", \"walmartsupercenterdistance\", \"walmartsupercenterdrivetime\"]\n    },\n    {\n      name: \"CENSUS\",\n      variables: [\"zip\", \"population\", \"white\", \"asian\", \"pacific\", \"blackafrican\", \"medianage\", \"occupiedhouseunits\", \"houseunits\", \"families\", \"households\", \"husbwife\", \"males\", \"females\", \"householdschildren\", \"hispanic\"]\n    },\n    {\n      name: \"ITEM\",\n      variables: [\"ksn\", \"subcategory\", \"category\", \"categoryCluster\", \"price\"]\n    },\n    {\n      name: \"WEATHER\",\n      variables: [\"locn\", \"dateid\", \"rain\", \"snow\", \"maxtemp\", \"mintemp\", \"meanwind\", \"thunder\"]\n    }\n    ]\n  },\n]\n\nexport default dataset","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nimport dataset from \"../data/dataset\"\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    dataset,\n    selected_dataset: {},\n    tN: 0,\n    processing: false,\n    query: {},\n    query_info: {},\n    query_text: \"\",\n    step: 1, // 0: dataset, 1: model selection, 2: regression, 3: chow-liu tree\n    tab: \"dataset\",\n    threshold: 0.02,\n    label: \"inventoryunits\",\n    features: ['inventoryunits', 'price', 'subcategory', 'category', 'categoryCluster'],\n    variables: [],\n    matrix: [],\n    paramMatrix: [],\n  },\n  mutations: {\n    SET_PROCESSING(state, processing) {\n      state.processing = processing\n    },\n    SET_THRESHOLD(state, threshold) {\n      state.threshold = threshold\n    },\n    SET_LABEL(state, label) {\n      state.label = label\n    },\n    SET_FEATURES(state, features) {\n      state.features = features\n    },\n    SET_SELECTED_DATASET(state, selected_dataset_idx) {\n      state.selected_dataset = state.dataset[selected_dataset_idx]\n    },\n    SET_QUERY_INFO(state, query_info) {\n      state.query_info = query_info\n      state.step = 1\n    },\n    SET_QUERY_TEXT(state, query_text) {\n      state.query_text = query_text\n    },\n    SET_QUERY(state, query) {\n      state.query = query\n    },\n    SET_COMPUTATIONAL_MODEL(state) {\n      state.step = 2\n    },\n    SET_STEP(state, step) {\n      state.step = step\n    },\n    SET_TAB(state, tab) {\n      state.tab = tab\n    },\n    SET_MODEL_SELECTION(state) {\n      state.step = 1\n    },\n  },\n  actions: {\n    regenerateViews({\n      state,\n      commit\n    }, {\n      rootIndicators,\n      onSuccess\n    }) {\n\n      // await axios.get\n      // returns a Promise\n      return axios({\n        method: 'get',\n        url: ` http://localhost:8082/[${rootIndicators.join(',')}]`\n      }).then(function (response) {\n        console.log(response)\n        onSuccess()\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    init({\n      state,\n      commit\n    }, {\n      dataset,\n      model,\n      onSuccess\n    }) {\n\n      // await axios.get\n      // returns a Promise\n      return axios({\n        method: 'get',\n        url: ` http://localhost:8081/[${dataset},${model}]`\n      }).then(function (response) {\n        onSuccess()\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n  },\n\n  modules: {}\n})","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport ViewUI from 'view-design';\r\nimport 'view-design/dist/styles/iview.css';\r\n// import locale from 'view-design/dist/locale/en-US';\r\n\r\nVue.use(ViewUI);\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeGeneration.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeGeneration.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}